"use strict";(self.webpackChunkwindup_ui=self.webpackChunkwindup_ui||[]).push([[611],{40611:function(e,n,i){i.r(n),i.d(n,{default:function(){return S}});var r=i(47313),t=i(97890),s=i(96093),o=i(4942),l=i(29439),a=i(42747),c=i(82685),u=i(76934),d=i(90555),f=i(22420),h=i(80752),p=i(36898),x=i(14303),m=i(89213),j=i(29964),g=i(98699),v=i(71602),b=i(54904),C=i(53840),I=i(67526),N=i(86025),k=i(53566),y=i(56954),w=i(46417),P="DataKey",M=[{title:"Name",transforms:[(0,v.d)(100),b.p],cellTransforms:[C.$G]}],F=function(e){var n=e.applicationId,i=(0,r.useState)(""),t=(0,l.Z)(i,2),s=t[0],v=t[1],b=(0,I.W)(),C=(0,N.v)(),F=(0,r.useMemo)((function(){var e,i;return(null===(e=C.data)||void 0===e||null===(i=e.find((function(e){return e.applicationId===n})))||void 0===i?void 0:i.jbpms)||[]}),[C.data,n]),S=(0,y.dd)(),T=(0,r.useMemo)((function(){var e;return null===(e=b.data)||void 0===e?void 0:e.find((function(e){return e.id===S.data}))}),[b.data,S.data]),Z=(0,a.Uq)({items:F,isEqual:function(e,n){return e.fileName===n.fileName&&e.processName===n.processName}}),z=Z.isItemSelected,B=Z.toggleItemSelected,D=(0,y.HL)(),E=D.page,H=D.sortBy,W=D.changePage,q=D.changeSortBy,K=(0,y.x6)({items:F,currentPage:E,currentSortBy:H,compareToByColumn:function(){return 0},filterItem:function(e){return!0}}),O=K.pageItems,V=K.filteredItems,A=function(e){var n=[];return e.forEach((function(e){var i,r=z(e);n.push((i={},(0,o.Z)(i,P,e),(0,o.Z)(i,"isOpen",r),(0,o.Z)(i,"cells",[{title:e.fileId?(0,w.jsx)(c.zx,{variant:c.Wu.link,isInline:!0,onClick:function(){return S.open("showFile",e.fileId)},children:e.fileName}):e.fileName},{title:e.processName}]),i)),r&&n.push({parent:n.length-1,fullWidth:!0,cells:[{title:(0,w.jsx)("div",{className:"pf-u-m-md",children:(0,w.jsxs)(u.o,{isHorizontal:!0,children:[(0,w.jsxs)(d.g,{children:[(0,w.jsx)(f.M,{children:"Nodes"}),(0,w.jsx)(h.b,{children:e.processNoteCount})]}),(0,w.jsxs)(d.g,{children:[(0,w.jsx)(f.M,{children:"Decisions"}),(0,w.jsx)(h.b,{children:e.processDecisionCount})]}),(0,w.jsxs)(d.g,{children:[(0,w.jsx)(f.M,{children:"States"}),(0,w.jsx)(h.b,{children:e.processStateCount})]}),(0,w.jsxs)(d.g,{children:[(0,w.jsx)(f.M,{children:"Tasks"}),(0,w.jsx)(h.b,{children:e.processTaskCount})]}),(0,w.jsxs)(d.g,{children:[(0,w.jsx)(f.M,{children:"Sub processes"}),(0,w.jsx)(h.b,{children:e.processSubProcessCount})]}),(0,w.jsxs)(d.g,{children:[(0,w.jsx)(f.M,{children:"Action handlers"}),(0,w.jsx)(h.b,{children:(0,w.jsx)(p.aV,{component:p.ns.ol,type:p.mr.number,children:e.actionHandlers.map((function(e,n){return(0,w.jsx)(x.H,{children:e.fileId?(0,w.jsx)(c.zx,{variant:c.Wu.link,isInline:!0,onClick:function(){return S.open("showFile",e.fileId)},children:e.fileName}):e.fileName},n)}))})})]}),(0,w.jsxs)(d.g,{children:[(0,w.jsx)(f.M,{children:"Decision handlers"}),(0,w.jsx)(h.b,{children:(0,w.jsx)(p.aV,{component:p.ns.ol,type:p.mr.number,children:e.decisionHandlers.map((function(e,n){return(0,w.jsx)(x.H,{children:e.fileId?(0,w.jsx)(c.zx,{variant:c.Wu.link,isInline:!0,onClick:function(){return S.open("showFile",e.fileId)},children:e.fileName}):e.fileName},n)}))})})]})]})})}]})})),n}(O);return(0,r.useEffect)((function(){W({page:1,perPage:E.perPage})}),[n,W,E.perPage]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(k.un,{hasTopPagination:!0,hasBottomPagination:!0,totalCount:V.length,onCollapse:function(e,n,i,r){var t=function(e){return e.DataKey}(r);B(t)},sortBy:H||{index:void 0,defaultDirection:"asc"},onSort:q,currentPage:E,onPageChange:W,rows:A,cells:M,actions:[],isLoading:C.isFetching,loadingVariant:"skeleton",fetchError:C.isError,filtersApplied:s.trim().length>0,toolbarToggle:(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(m.E,{variant:"search-filter",children:(0,w.jsx)(j.M,{value:s,onChange:v,onClear:function(){return v("")}})})})}),(0,w.jsx)(g.u,{title:"File ".concat(null===T||void 0===T?void 0:T.prettyPath),isOpen:S.isOpen&&"showFile"===S.action,onClose:S.close,variant:"default",position:"top",disableFocusTrap:!0,actions:[(0,w.jsx)(c.zx,{variant:"primary",onClick:S.close,children:"Close"},"close")],children:T&&(0,w.jsx)(k.Mm,{file:T})})]})},S=function(){var e=(0,t.bx)();return(0,w.jsx)(s.NP,{children:(0,w.jsx)(F,{applicationId:null===e||void 0===e?void 0:e.id})})}},86025:function(e,n,i){i.d(n,{v:function(){return a}});var r=i(74165),t=i(15861),s=i(31881),o=i.n(s),l=i(44888),a=function(){return(0,l.z)({queryKey:["jbpm"],queryFn:function(){var e=(0,t.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("/jbpm");case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},undefined,window.jbpm)}}}]);