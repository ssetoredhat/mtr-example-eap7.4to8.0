"use strict";(self.webpackChunkwindup_ui=self.webpackChunkwindup_ui||[]).push([[566],{79143:function(e,n,t){t.d(n,{B1:function(){return o},BM:function(){return c},KP:function(){return u},OG:function(){return s},S6:function(){return a},t5:function(){return r}});var r=["mandatory","optional","potential","information","cloud-mandatory","cloud-optional"],a=function(e){switch(e){case"mandatory":return"Migration mandatory";case"optional":return"Migration optional";case"potential":return"Migration potential";case"information":return"Information";case"cloud-mandatory":return"Cloud mandatory";case"cloud-optional":return"Cloud optional";default:return e}},o=["Info","Trivial","Complex","Redesign","Architectural","Unknown"],i=function(e){switch(e){case"mandatory":return 1;case"optional":return 2;case"potential":return 3;case"cloud-mandatory":return 4;case"cloud-optional":return 5;case"information":return 6;default:return 0}};function c(e){return function(n,t){return i(e(n))-i(e(t))}}function u(e,n){return function(t,r){return i(e(t))-i(e(r))||n(t).localeCompare(n(r))}}var l=function(e){switch(e){case"Info":return 1;case"Trivial":return 2;case"Complex":return 3;case"Redesign":return 4;case"Architectural":return 5;case"Unknown":return 6;default:return 0}};function s(e){return function(n,t){return l(e(n))-l(e(t))}}},67526:function(e,n,t){t.d(n,{l:function(){return s},W:function(){return l}});var r=t(74165),a=t(15861),o=t(31881),i=t.n(o),c=t(44888),u={},l=function(){return(0,c.z)({queryKey:["files"],queryFn:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i().get("/files");case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},undefined,window.files)},s=function(e){return(0,c.z)({queryKey:["files",e],queryFn:function(){var n=(0,a.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i().get("/files/".concat(e));case 2:return n.abrupt("return",n.sent.data);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()},u[e],window.files_by_id?window.files_by_id[e]:void 0)}},4382:function(e,n,t){t.d(n,{f:function(){return s}});var r=t(74165),a=t(15861),o=t(1413),i=t(47313),c=t(31881),u=t.n(c),l=t(44888),s=function(){var e=(0,i.useCallback)((function(e){return e.map((function(e){return(0,o.Z)((0,o.Z)({},e),{},{ignoredFiles:e.ignoredFiles.sort((function(e,n){return e.fileName.localeCompare(n.fileName)}))})}))}),[]);return(0,l.z)({queryKey:["ignored-files"],queryFn:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/ignored-files",e.next=3,u().get("/ignored-files");case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),select:e},undefined,window["ignored-files"])}},67482:function(e,n,t){t.d(n,{J:function(){return d}});var r=t(74165),a=t(15861),o=t(1413),i=t(47313),c=t(31881),u=t.n(c),l=t(79143),s=t(44888),d=function(){var e=(0,i.useCallback)((function(e){return e.map((function(e){var n=Object.keys(e.issues).flatMap((function(n){return e.issues[n].flatMap((function(e){return(0,o.Z)((0,o.Z)({},e),{},{category:n})}))}));return{applicationId:e.applicationId,issues:n.sort((0,l.KP)((function(e){return e.category}),(function(e){return e.name})))}}))}),[]);return(0,s.z)({queryKey:["issues"],queryFn:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("/issues");case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),select:e},undefined,window.issues)}},79306:function(e,n,t){t.d(n,{h:function(){return g},q:function(){return f}});var r=t(74165),a=t(15861),o=t(1413),i=t(29439),c=t(47313),u=t(31881),l=t.n(u),s=t(44888),d={},f=function(){var e=(0,c.useCallback)((function(e){for(var n=[],t=function(){var e=(0,i.Z)(a[r],2),t=e[0],c=e[1].map((function(e){return(0,o.Z)((0,o.Z)({},e),{},{phase:t})}));n=n.concat(c)},r=0,a=Object.entries(e);r<a.length;r++)t();return n}),[]);return(0,s.z)({queryKey:["rules"],queryFn:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get("/rules");case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),select:e},undefined,window.rules)},g=function(e){return(0,s.z)({queryKey:["rules",e],queryFn:function(){var n=(0,a.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l().get("/rules/".concat(e));case 2:return n.abrupt("return",n.sent.data);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()},d[e],window.rules_by_id?window.rules_by_id[e]:void 0)}},53566:function(e,n,t){t.d(n,{Vr:function(){return o},im:function(){return Qe},Mm:function(){return wn},eo:function(){return tn},FT:function(){return qe},Uf:function(){return ln},sd:function(){return an},ez:function(){return fn},GU:function(){return f},un:function(){return V}});var r=t(47313),a=t(46417),o=function(e){var n=e.when,t=e.then,r=e.children;return n?t:r||(0,a.jsx)(a.Fragment,{})},i=t(1413),c=t(29439),u=t(44925),l=t(60096),s=t(61277),d=["onChange","options","value","placeholderText"],f=function(e){var n=e.onChange,t=e.options,o=e.value,f=e.placeholderText,g=void 0===f?"Select...":f,p=(0,u.Z)(e,d),h=(0,r.useState)(!1),v=(0,c.Z)(h,2),m=v[0],x=v[1];return(0,a.jsx)(l.P,(0,i.Z)((0,i.Z)({placeholderText:g,isOpen:m,onToggle:x,onSelect:function(e,t){n(t),"checkbox"!==p.variant&&x(!1)},selections:o},p),{},{children:t.map((function(e,n){return(0,a.jsx)(s.$,(0,i.Z)({value:e},"object"===typeof e&&e.props),"".concat(n,"-").concat(e.toString()))}))}))},g=t(20821),p=t(76194),h=function(e){var n,t=e.count,r=e.params,o=e.isTop,c=e.isCompact,u=e.perPageOptions,l=e.onChange,s=function(){return r.perPage||10};return(0,a.jsx)(g.t,{itemCount:t,page:r.page||1,perPage:s(),onPageInput:function(e,n){l({page:n,perPage:s()})},onSetPage:function(e,n){l({page:n,perPage:s()})},onPerPageSelect:function(e,n){l({page:1,perPage:n})},isCompact:o||c,widgetId:"pagination-options-menu",variant:o?g.a.top:g.a.bottom,perPageOptions:(n=u||[10,20,50,100],n.map((function(e){return{title:String(e),value:e}}))),toggleTemplate:function(e){return(0,a.jsx)(p.v,(0,i.Z)({},e))}})},v=t(47346),m=t(48892),x=t(26436),y=t(89213),j=t(79023),Z=t(93433),C=t(54065),b=t(14762),w=t(17190),k=t(85099),T=t(43457),P=t(22322),S=t(48974),I=t(13772),M=t(19726),F=t(98235),L=t(27687),E=t(63143),O=function(){return(0,a.jsxs)(S.u,{variant:S.I.small,children:[(0,a.jsx)(I.k,{icon:L.ZP,color:E.a.value}),(0,a.jsx)(M.D,{headingLevel:"h2",size:"lg",children:"Unable to connect"}),(0,a.jsx)(F.B,{children:"There was an error retrieving data. Check your connection and try again."})]})},B=t(49559),A=function(){return(0,a.jsxs)(S.u,{variant:S.I.small,children:[(0,a.jsx)(I.k,{icon:B.ZP}),(0,a.jsx)(M.D,{headingLevel:"h2",size:"lg",children:"No data available"}),(0,a.jsx)(F.B,{children:"No data available to be shown here."})]})},N=t(25462),R=function(){return(0,a.jsxs)(S.u,{variant:S.I.small,children:[(0,a.jsx)(I.k,{icon:N.ZP}),(0,a.jsx)(M.D,{headingLevel:"h2",size:"lg",children:"No results found"}),(0,a.jsx)(F.B,{children:"No results match the filter criteria. Remove all filters or clear all filters to show results."})]})},z=["cells","rows","aria-label","isLoading","fetchError","loadingVariant","filtersApplied","noDataState","noSearchResultsState","errorState"],D=function(e){var n=e.cells,t=e.rows,r=e["aria-label"],o=void 0===r?"main-table":r,c=e.isLoading,l=e.fetchError,s=e.loadingVariant,d=void 0===s?"skeleton":s,f=e.filtersApplied,g=e.noDataState,p=e.noSearchResultsState,h=e.errorState,v=(0,u.Z)(e,z);if(c&&"none"!==d){var m=[];if("skeleton"===d)m=(0,Z.Z)(Array(10)).map((function(){return{cells:(0,Z.Z)(Array(n.length)).map((function(){return{title:(0,a.jsx)(C.O,{})}}))}}));else{if("spinner"!==d)throw new Error("Can not determine the loading state of table");m=[{heightAuto:!0,cells:[{props:{colSpan:8},title:(0,a.jsx)(b.b,{children:(0,a.jsx)(w.$,{size:"xl"})})}]}]}return(0,a.jsxs)(k.i,{"aria-label":o,cells:n,rows:m,children:[(0,a.jsx)(T.x,{}),(0,a.jsx)(P.R,{})]})}return l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(k.i,{"aria-label":o,cells:n,rows:[],children:[(0,a.jsx)(T.x,{}),(0,a.jsx)(P.R,{})]}),h||(0,a.jsx)(O,{})]}):0===t.length?f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(k.i,{"aria-label":o,cells:n,rows:[],children:[(0,a.jsx)(T.x,{}),(0,a.jsx)(P.R,{})]}),p||(0,a.jsx)(R,{})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(k.i,{"aria-label":o,cells:n,rows:[],children:[(0,a.jsx)(T.x,{}),(0,a.jsx)(P.R,{})]}),g||(0,a.jsx)(A,{})]}):(0,a.jsxs)(k.i,(0,i.Z)((0,i.Z)({"aria-label":o,cells:n,rows:t},v),{},{children:[(0,a.jsx)(T.x,{}),(0,a.jsx)(P.R,{})]}))},q=["totalCount","currentPage","onPageChange","hasTopPagination","hasBottomPagination","toolbarBulkSelector","toolbarToggle","toolbarActions","toolbarClearAllFilters"],V=function(e){var n=e.totalCount,t=e.currentPage,r=e.onPageChange,o=e.hasTopPagination,c=void 0!==o&&o,l=e.hasBottomPagination,s=void 0!==l&&l,d=e.toolbarBulkSelector,f=e.toolbarToggle,g=e.toolbarActions,p=e.toolbarClearAllFilters,Z=(0,u.Z)(e,q);return(0,a.jsxs)("div",{style:{backgroundColor:"var(--pf-global--BackgroundColor--100)"},children:[(0,a.jsx)(v.o,{className:"pf-m-toggle-group-container",collapseListedFiltersBreakpoint:"xl",clearAllFilters:p,children:(0,a.jsxs)(m.c,{children:[d,f&&(0,a.jsx)(x.R,{toggleIcon:(0,a.jsx)(j.ZP,{}),breakpoint:"xl",children:f}),g,c&&(0,a.jsx)(y.E,{variant:y.A.pagination,alignment:{default:"alignRight"},children:(0,a.jsx)(h,{count:n,params:t,onChange:r,isTop:!0})})]})}),(0,a.jsx)(D,(0,i.Z)({},Z)),s&&(0,a.jsx)(h,{count:n,params:t,onChange:r})]})},H=t(4942),G=t(42747),K=t(91970),_=t(90148),W=t(3460),U=t(29964),J=t(75071),$=t(53426),X=t(32837),Q=t(98699),Y=t(82685),ee=t(98362),ne=t(71602),te=t(54904),re=t(53840),ae=t(11459),oe=t(79143),ie=t(13056),ce=t(74165),ue=t(15861),le=t(31881),se=t.n(le),de=t(44888),fe=t(16265),ge=t(67526),pe=t(67482),he=t(79306),ve=t(56954),me=t(74871),xe=t(41094),ye=t(24777),je=t(38477),Ze=t(60902),Ce=t(54890),be=t(57736),we=t(52076),ke=t(39275),Te=t(42912),Pe=t(69366),Se=t(88991),Ie=t(60171),Me=t(7872),Fe=function(e,n){return[e,n.map((function(e,n){return"".concat(n+1,". [").concat(e.title,"](").concat(e.href,")")})).join("\n")].join("\n")},Le=function(e){var n=e.issue,t=e.onShowFile;return(0,a.jsx)(me.K,{hasGutter:!0,children:n.affectedFiles.map((function(e,r){return(0,a.jsx)(xe.v,{children:(0,a.jsxs)(ye.r,{hasGutter:!0,children:[(0,a.jsx)(je.P,{md:5,children:(0,a.jsx)(Ze.Z,{isCompact:!0,isFullHeight:!0,children:(0,a.jsx)(Ce.e,{children:(0,a.jsxs)(ke.X,{"aria-label":"Files table",variant:"compact",children:[(0,a.jsx)(Te.h,{children:(0,a.jsxs)(Pe.Tr,{children:[(0,a.jsx)(Se.Th,{children:"File"}),(0,a.jsx)(Se.Th,{children:"Incidents found"})]})}),(0,a.jsx)(Ie.p,{children:e.files.map((function(n,r){return(0,a.jsxs)(Pe.Tr,{children:[(0,a.jsx)(Me.Td,{dataLabel:"File",modifier:"breakWord",children:(0,a.jsx)(Ee,{fileId:n.fileId,defaultText:n.fileName,onClick:function(){return t(n.fileId,e.description)}})}),(0,a.jsx)(Me.Td,{dataLabel:"Incidents found",width:10,children:(0,a.jsx)(be.C,{isRead:!0,children:n.occurrences})})]},r)}))})]})})})}),(0,a.jsx)(je.P,{md:7,children:(0,a.jsx)(Ze.Z,{isCompact:!0,isFullHeight:!0,children:(0,a.jsx)(Ce.e,{children:(0,a.jsx)(fn,{children:Fe(e.description||"",n.links)})})})})]})},r)}))})},Ee=function(e){var n=e.fileId,t=e.defaultText,o=e.onClick,i=(0,ge.W)(),c=(0,r.useMemo)((function(){var e;return null===(e=i.data)||void 0===e?void 0:e.find((function(e){return e.id===n}))}),[i.data,n]);return(0,a.jsx)(a.Fragment,{children:c?(0,a.jsx)(Y.zx,{variant:"link",isInline:!0,onClick:o,children:(0,a.jsx)(we.k,{content:t||c.prettyPath})}):t})},Oe=function(e,n){return e.id===n.id},Be=function(e){if("string"===typeof e){var n=function(){return e};return{value:e,toString:n,compareTo:function(t){return"string"===typeof t?n().toLowerCase().includes(t.toLocaleLowerCase()):e===t.value}}}var t=function(){return e.node};return{value:e.key,toString:t,compareTo:function(n){return"string"===typeof n?t().toLowerCase().includes(n.toLowerCase()):e.key===n.value}}},Ae=function(e){return{key:e.value,node:e.toString()}},Ne="DataKey",Re=[{title:"Issue",transforms:[(0,ne.d)(35),te.p],cellTransforms:[]},{title:"Category",transforms:[(0,ne.d)(10)]},{title:"Source",transforms:[(0,ne.d)(10)]},{title:"Target",transforms:[(0,ne.d)(10)]},{title:"Level of effort",transforms:[(0,ne.d)(15)],cellTransforms:[re.$G]},{title:"Total incidents",transforms:[(0,ne.d)(10),te.p]},{title:"Total storypoints",transforms:[(0,ne.d)(10),te.p]}],ze=function(e,n,t){switch(t){case 1:return e.name.localeCompare(n.name);case 6:return e.totalIncidents-n.totalIncidents;case 7:return e.totalStoryPoints-n.totalStoryPoints;default:return 0}},De=function(e){return e.DataKey},qe=function(e){var n,t,o,i,u,l=e.applicationId,s=(0,r.useState)(""),d=(0,c.Z)(s,2),g=d[0],p=d[1],h=(0,ve.Sm)(),v=h.filters,m=h.setFilter,x=h.removeFilter,j=h.clearAllFilters,C=(0,ae.Nr)(g,250),w=(0,ae.Nr)(v,100),k=(0,de.z)({queryKey:["analysis-configuration"],queryFn:function(){var e=(0,ue.Z)((0,ce.Z)().mark((function e(){return(0,ce.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se().get("/analysis-configuration");case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},void 0,window["analysis-configuration"]),T=(0,he.q)(),P=(0,fe.p)(),L=(0,pe.J)(),E=(0,ge.W)(),O=(0,r.useCallback)((function(e){var n;return null===(n=T.data)||void 0===n?void 0:n.find((function(n){return n.id===e}))}),[T.data]),B=(0,ve.dd)(),A=(0,r.useMemo)((function(){return null!=B.data?O(B.data.ruleId):void 0}),[O,B.data]),N=(0,ve.dd)(),R=N.data,z=N.isOpen,D=N.action,q=N.open,ne=N.close,te=(0,r.useMemo)((function(){return void 0!==E.data&&void 0!==R?E.data.find((function(e){return e.id===(null===R||void 0===R?void 0:R.fileId)})):void 0}),[E.data,R]),re=(0,r.useMemo)((function(){var e;return null===(e=P.data)||void 0===e?void 0:e.find((function(e){return e.id===l}))}),[P.data,l]),le=(0,r.useMemo)((function(){var e,n;return P.data&&L.data&&void 0!==l&&(null===(e=L.data)||void 0===e||null===(n=e.find((function(e){return e.applicationId===l})))||void 0===n?void 0:n.issues)||[]}),[P.data,L.data,l]),me=(0,r.useMemo)((function(){var e=new Set,n=new Set;return le.forEach((function(t){var r,a;null===(r=t.sourceTechnologies)||void 0===r||r.forEach((function(n){return e.add(n)})),null===(a=t.targetTechnologies)||void 0===a||a.forEach((function(e){return n.add(e)}))})),{source:Array.from(e),target:Array.from(n)}}),[le]),xe=(0,r.useMemo)((function(){var e=(L.data||[]).flatMap((function(e){return e.issues})).map((function(e){return e.category}));return Array.from(new Set(e)).sort((0,oe.BM)((function(e){return e})))}),[L.data]),ye=(0,r.useMemo)((function(){var e=(L.data||[]).flatMap((function(e){return e.issues})).map((function(e){return e.effort.type}));return Array.from(new Set(e)).sort((0,oe.OG)((function(e){return e})))}),[L.data]),je=(0,G.Uq)({items:le,isEqual:Oe}),Ze=je.isItemSelected,Ce=je.toggleItemSelected,be=(0,ve.HL)(),we=be.page,ke=be.sortBy,Te=be.changePage,Pe=be.changeSortBy,Se=(0,r.useCallback)((function(e){var n=!0;C&&C.trim().length>0&&(n=-1!==e.name.toLowerCase().indexOf(C.toLowerCase()));var t=!0,r=w.get("category")||[];r.length>0&&(t=r.some((function(n){return e.category===n.key})));var a=!0,o=w.get("levelOfEffort")||[];o.length>0&&(a=o.some((function(n){return e.effort.type===n.key})));var i=!0,c=w.get("sourceTechnology")||[];c.length>0&&(i=c.some((function(n){var t;return null===(t=e.sourceTechnologies)||void 0===t?void 0:t.includes(n.key)})));var u=!0,l=w.get("targetTechnology")||[];return l.length>0&&(u=l.some((function(n){var t;return null===(t=e.targetTechnologies)||void 0===t?void 0:t.includes(n.key)}))),n&&t&&a&&i&&u}),[C,w]),Ie=(0,ve.x6)({items:le,currentPage:we,currentSortBy:ke,compareToByColumn:ze,filterItem:Se}),Me=Ie.pageItems,Fe=Ie.filteredItems,Ee=(0,r.useMemo)((function(){var e=[];return Me.forEach((function(n){var t,r,o,i,c=Ze(n);(e.push((o={},(0,H.Z)(o,Ne,n),(0,H.Z)(o,"isOpen",c),(0,H.Z)(o,"cells",[{title:n.name},{title:n.category},{title:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(K.P,{hasGutter:!0,children:null===(t=n.sourceTechnologies)||void 0===t?void 0:t.map((function(e){return(0,a.jsx)(_.J,{children:(0,a.jsx)(W._,{isCompact:!0,color:"blue",children:e})},e)}))})})},{title:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(K.P,{hasGutter:!0,children:null===(r=n.targetTechnologies)||void 0===r?void 0:r.map((function(e){return(0,a.jsx)(_.J,{children:(0,a.jsx)(W._,{isCompact:!0,color:"blue",children:e})},e)}))})})},{title:n.effort.description},{title:n.totalIncidents},{title:n.totalStoryPoints}]),o)),c)&&e.push((i={},(0,H.Z)(i,Ne,n),(0,H.Z)(i,"parent",e.length-1),(0,H.Z)(i,"fullWidth",!0),(0,H.Z)(i,"cells",[{title:(0,a.jsx)("div",{className:"pf-u-m-sm",children:(0,a.jsx)(Le,{issue:n,onShowFile:function(e,t){return q("showFile",{fileId:e,ruleId:n.ruleId,issueDescription:t})}})})}]),i))})),e}),[Me,Ze,q]),qe=[{title:"View rule",onClick:function(e,n,t,r){var a=De(t);B.open("showRule",a)}}];return(0,r.useEffect)((function(){Te({page:1,perPage:we.perPage})}),[C,w,Te,we.perPage]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(a.Fragment,{children:void 0===l?(0,a.jsx)(b.b,{children:(0,a.jsxs)(S.u,{children:[(0,a.jsx)(I.k,{icon:ee.ZP}),(0,a.jsx)(M.D,{headingLevel:"h4",size:"lg",children:"Select an application"}),(0,a.jsx)(F.B,{children:"Select an application whose data you want to get access to."})]})}):(0,a.jsx)(V,{rowWrapper:function(e){var n,t=De(e.row),r=!(null!==(n=e.row)&&void 0!==n&&n.isExpanded);return(0,a.jsx)("tr",{children:e.children},"".concat(t.name).concat(r?"":"-expanded"))},hasTopPagination:!0,hasBottomPagination:!0,totalCount:Fe.length,onCollapse:function(e,n,t,r){var a=De(r);Ce(a)},sortBy:ke||{index:void 0,defaultDirection:"asc"},onSort:Pe,currentPage:we,onPageChange:Te,rows:Ee,cells:Re,actions:qe,isLoading:L.isLoading||P.isLoading,loadingVariant:"skeleton",fetchError:L.isError,toolbarClearAllFilters:j,filtersApplied:g.trim().length>0,toolbarToggle:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.E,{variant:"search-filter",children:(0,a.jsx)(U.M,{value:g,onChange:p,onClear:function(){return p("")}})}),(0,a.jsx)(J.k,{variant:"filter-group",children:(0,a.jsx)($.p,{chips:v.get("category"),deleteChip:function(e,n){return x("category",n)},deleteChipGroup:function(){return m("category",[])},categoryName:{key:"category",name:"Category"},children:(0,a.jsx)(f,{maxHeight:300,variant:X.TM.checkbox,"aria-label":"category","aria-labelledby":"category",placeholderText:"Category",value:null===(n=v.get("category"))||void 0===n?void 0:n.map(Be),options:xe.map(Be),onChange:function(e){var n,t=e;n=(v.get("category")||[]).some((function(e){return e.key===t.value}))?(v.get("category")||[]).filter((function(e){return e.key!==t.value})):[].concat((0,Z.Z)(v.get("category")||[]),[Ae(t)]),m("category",n)},hasInlineFilter:!0,onClear:function(){return m("category",[])}})})}),(0,a.jsx)(J.k,{variant:"filter-group",children:(0,a.jsx)($.p,{chips:v.get("levelOfEffort"),deleteChip:function(e,n){return x("levelOfEffort",n)},deleteChipGroup:function(){return m("levelOfEffort",[])},categoryName:{key:"levelOfEffort",name:"Level of effort"},children:(0,a.jsx)(f,{maxHeight:300,variant:X.TM.checkbox,"aria-label":"levelOfEffort","aria-labelledby":"levelOfEffort",placeholderText:"Level effort",value:null===(t=v.get("levelOfEffort"))||void 0===t?void 0:t.map(Be),options:ye.map(Be),onChange:function(e){var n,t=e;n=(v.get("levelOfEffort")||[]).some((function(e){return e.key===t.value}))?(v.get("levelOfEffort")||[]).filter((function(e){return e.key!==t.value})):[].concat((0,Z.Z)(v.get("levelOfEffort")||[]),[Ae(t)]),m("levelOfEffort",n)},hasInlineFilter:!0,onClear:function(){return m("levelOfEffort",[])}})})}),(0,a.jsxs)(J.k,{variant:"filter-group",children:[me.source.length>0&&(0,a.jsx)($.p,{chips:v.get("sourceTechnology"),deleteChip:function(e,n){return x("sourceTechnology",n)},deleteChipGroup:function(){return m("sourceTechnology",[])},categoryName:{key:"sourceTechnology",name:"Source"},children:(0,a.jsx)(f,{maxHeight:300,variant:X.TM.checkbox,"aria-label":"sourceTechnology","aria-labelledby":"sourceTechnology",placeholderText:"Source",value:null===(o=v.get("sourceTechnology"))||void 0===o?void 0:o.map(Be),options:me.source.map(Be),onChange:function(e){var n,t=e;n=(v.get("sourceTechnology")||[]).some((function(e){return e.key===t.value}))?(v.get("sourceTechnology")||[]).filter((function(e){return e.key!==t.value})):[].concat((0,Z.Z)(v.get("sourceTechnology")||[]),[Ae(t)]),m("sourceTechnology",n)},hasInlineFilter:!0,onClear:function(){return m("sourceTechnology",[])}})}),me.target.length>0&&(0,a.jsx)($.p,{chips:v.get("targetTechnology"),deleteChip:function(e,n){return x("targetTechnology",n)},deleteChipGroup:function(){return m("targetTechnology",[])},categoryName:{key:"targetTechnology",name:"Target"},children:(0,a.jsx)(f,{maxHeight:300,variant:X.TM.checkbox,"aria-label":"targetTechnology","aria-labelledby":"targetTechnology",placeholderText:"Target",value:null===(i=v.get("targetTechnology"))||void 0===i?void 0:i.map(Be),options:me.target.map(Be),onChange:function(e){var n,t=e;n=(v.get("targetTechnology")||[]).some((function(e){return e.key===t.value}))?(v.get("targetTechnology")||[]).filter((function(e){return e.key!==t.value})):[].concat((0,Z.Z)(v.get("targetTechnology")||[]),[Ae(t)]),m("targetTechnology",n)},hasInlineFilter:!0,onClear:function(){return m("targetTechnology",[])}})})]}),(null===(u=k.data)||void 0===u?void 0:u.exportCSV)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.E,{variant:"separator"}),(0,a.jsx)(y.E,{children:(0,a.jsx)("a",{className:"pf-c-button pf-m-primary ",href:ie.s===l?"./AllIssues.csv":"".concat(null===re||void 0===re?void 0:re.name.replaceAll(".","_").replaceAll("-","_"),".csv"),rel:"noopener noreferrer",target:"_blank",children:"Export CSV"})})]})]})})}),(0,a.jsx)(Q.u,{title:"Rule: ".concat(null===A||void 0===A?void 0:A.id),isOpen:B.isOpen&&"showRule"===B.action,onClose:B.close,variant:"large",children:A&&(0,a.jsx)(an,{ruleId:A.id})}),(0,a.jsx)(Q.u,{title:"File ".concat(null===te||void 0===te?void 0:te.prettyPath),isOpen:z&&"showFile"===D,onClose:ne,variant:"default",position:"top",disableFocusTrap:!0,actions:[(0,a.jsx)(Y.zx,{variant:"primary",onClick:ne,children:"Close"},"close")],children:te&&(0,a.jsx)(wn,{file:te,hintToFocus:te.hints.filter((function(e){return e.ruleId===(null===R||void 0===R?void 0:R.ruleId)&&e.content===R.issueDescription})).reduce((function(e,n){return e?n.line<e.line?n:e:n}),void 0)})})]})},Ve=t(76934),He=t(90555),Ge=t(22420),Ke=t(80752),_e=t(36898),We=t(14303),Ue=function(e,n){return e.name===n.name&&e.version===n.version&&e.sha1===n.sha1},Je="DataKey",$e=[{title:"Name",transforms:[(0,ne.d)(100),te.p],cellTransforms:[re.$G]}],Xe=function(e,n,t){return 1===t?e.name.localeCompare(n.name):0},Qe=function(e){var n=e.applicationId,t=(0,r.useState)(""),o=(0,c.Z)(t,2),u=o[0],l=o[1],s=(0,fe.p)(),d=function(){var e=(0,r.useCallback)((function(e){return e.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{dependencies:e.dependencies.sort((function(e,n){return e.name.localeCompare(n.name)}))})}))}),[]);return(0,de.z)({queryKey:["dependencies"],queryFn:function(){var e=(0,ue.Z)((0,ce.Z)().mark((function e(){return(0,ce.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,se().get("/dependencies");case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),select:e},void 0,window.dependencies)}(),f=(0,r.useMemo)((function(){return n===ie.s?(0,Z.Z)(d.data||[]).filter((function(e){var n,t=null===(n=s.data)||void 0===n?void 0:n.find((function(n){return n.id===e.applicationId}));return!(null!==t&&void 0!==t&&t.isVirtual)})).flatMap((function(e){return e.dependencies})).reduce((function(e,n){var t=e.find((function(e){return Ue(e,n)}));return t?[].concat((0,Z.Z)(e.filter((function(e){return!Ue(e,n)}))),[(0,i.Z)((0,i.Z)({},n),{},{foundPaths:[].concat((0,Z.Z)(t.foundPaths),(0,Z.Z)(n.foundPaths))})]):[].concat((0,Z.Z)(e),[n])}),[]):(null===(e=d.data)||void 0===e||null===(t=e.find((function(e){return e.applicationId===n})))||void 0===t?void 0:t.dependencies)||[];var e,t}),[d.data,s.data,n]),g=(0,G.Uq)({items:f,isEqual:Ue}),p=g.isItemSelected,h=g.toggleItemSelected,v=(0,ve.HL)(),m=v.page,x=v.sortBy,j=v.changePage,C=v.changeSortBy,w=(0,ve.x6)({items:f,currentPage:m,currentSortBy:x,compareToByColumn:Xe,filterItem:function(e){var n=!0;return u&&u.trim().length>0&&(n=-1!==e.name.toLowerCase().indexOf(u.toLowerCase())),n}}),k=w.pageItems,T=w.filteredItems,P=function(e){var n=[];return e.forEach((function(e){var t,r=p(e);n.push((t={},(0,H.Z)(t,Je,e),(0,H.Z)(t,"isOpen",r),(0,H.Z)(t,"cells",[{title:e.name}]),t)),r&&n.push({parent:n.length-1,fullWidth:!0,cells:[{title:(0,a.jsx)("div",{className:"pf-u-m-md",children:(0,a.jsxs)(Ve.o,{isHorizontal:!0,children:[(0,a.jsxs)(He.g,{children:[(0,a.jsx)(Ge.M,{children:"Maven URL"}),(0,a.jsx)(Ke.b,{children:(0,a.jsx)("a",{target:"_blank",rel:"noreferrer",href:'http://search.maven.org/?eh#search|ga|1|1:"'.concat(e.sha1,'"'),children:"Maven Central Link"})})]}),(0,a.jsxs)(He.g,{children:[(0,a.jsx)(Ge.M,{children:"SHA1 hash"}),(0,a.jsx)(Ke.b,{children:e.sha1})]}),e.version&&(0,a.jsxs)(He.g,{children:[(0,a.jsx)(Ge.M,{children:"Version"}),(0,a.jsx)(Ke.b,{children:e.version})]}),e.organization&&(0,a.jsxs)(He.g,{children:[(0,a.jsx)(Ge.M,{children:"Organization"}),(0,a.jsx)(Ke.b,{children:e.organization})]}),(0,a.jsxs)(He.g,{children:[(0,a.jsx)(Ge.M,{children:"Found at path"}),(0,a.jsx)(Ke.b,{children:(0,a.jsx)(_e.aV,{children:e.foundPaths.map((function(e,n){return(0,a.jsx)(We.H,{children:e},n)}))})})]})]})})}]})})),n}(k);return(0,r.useEffect)((function(){j({page:1,perPage:m.perPage})}),[n,j,m.perPage]),(0,a.jsx)(a.Fragment,{children:void 0===n?(0,a.jsx)(b.b,{children:(0,a.jsxs)(S.u,{children:[(0,a.jsx)(I.k,{icon:ee.ZP}),(0,a.jsx)(M.D,{headingLevel:"h4",size:"lg",children:"Select an application"}),(0,a.jsx)(F.B,{children:"Select an application whose data you want to get access to."})]})}):(0,a.jsx)(V,{hasTopPagination:!0,hasBottomPagination:!0,totalCount:T.length,onCollapse:function(e,n,t,r){var a=function(e){return e.DataKey}(r);h(a)},sortBy:x||{index:void 0,defaultDirection:"asc"},onSort:C,currentPage:m,onPageChange:j,rows:P,cells:$e,actions:[],isLoading:d.isFetching,loadingVariant:"skeleton",fetchError:d.isError,filtersApplied:u.trim().length>0,toolbarToggle:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(y.E,{variant:"search-filter",children:(0,a.jsx)(U.M,{value:u,onChange:l,onClear:function(){return l("")}})})})})})},Ye=t(4382),en=[{title:"Name",transforms:[te.p],cellTransforms:[re.kZ]},{title:"Path",transforms:[],cellTransforms:[re.kZ]},{title:"Ignored reason",transforms:[],cellTransforms:[re.kZ]}],nn=function(e,n,t){return 1===t?e.fileName.localeCompare(n.fileName):0},tn=function(e){var n=e.applicationId,t=(0,r.useState)(""),o=(0,c.Z)(t,2),i=o[0],u=o[1],l=(0,Ye.f)(),s=(0,r.useMemo)((function(){var e,t;return n===ie.s?(0,Z.Z)(l.data||[]).flatMap((function(e){return e.ignoredFiles})):(null===(e=l.data)||void 0===e||null===(t=e.find((function(e){return e.applicationId===n})))||void 0===t?void 0:t.ignoredFiles)||[]}),[l.data,n]),d=(0,ve.HL)(),f=d.page,g=d.sortBy,p=d.changePage,h=d.changeSortBy,v=(0,ve.x6)({items:s,currentPage:f,currentSortBy:g,compareToByColumn:nn,filterItem:function(e){var n=!0;return i&&i.trim().length>0&&(n=-1!==e.fileName.toLowerCase().indexOf(i.toLowerCase())),n}}),m=v.pageItems,x=v.filteredItems,j=function(e){var n=[];return e.forEach((function(e){var t;n.push((t={},(0,H.Z)(t,"DataKey",e),(0,H.Z)(t,"cells",[{title:e.fileName},{title:e.filePath},{title:e.reason}]),t))})),n}(m);return(0,a.jsx)(a.Fragment,{children:void 0===n?(0,a.jsx)(b.b,{children:(0,a.jsxs)(S.u,{children:[(0,a.jsx)(I.k,{icon:ee.ZP}),(0,a.jsx)(M.D,{headingLevel:"h4",size:"lg",children:"Select an application"}),(0,a.jsx)(F.B,{children:"Select an application whose data you want to get access to."})]})}):(0,a.jsx)(V,{hasTopPagination:!0,hasBottomPagination:!0,totalCount:x.length,sortBy:g||{index:void 0,defaultDirection:"asc"},onSort:h,currentPage:f,onPageChange:p,rows:j,cells:en,actions:[],isLoading:l.isFetching,loadingVariant:"skeleton",fetchError:l.isError,filtersApplied:i.trim().length>0,toolbarToggle:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(y.E,{variant:"search-filter",children:(0,a.jsx)(U.M,{value:i,onChange:u,onClear:function(){return u("")}})})})})})},rn=t(20512),an=function(e){var n,t,c=e.ruleId,u=e.props,l=(0,he.h)(c),s=(0,r.useRef)(),d=(0,r.useRef)();return(0,r.useEffect)((function(){return function(){var e;null===(e=d.current)||void 0===e||e.editor.getModels().forEach((function(e){return e.dispose()}))}}),[d]),(0,a.jsx)(o,{when:l.isLoading,then:(0,a.jsx)("span",{children:"Loading..."}),children:(0,a.jsx)(rn.p,(0,i.Z)({isDarkTheme:!0,isLineNumbersVisible:!0,isReadOnly:!0,isMinimapVisible:!0,isLanguageLabelVisible:!0,isDownloadEnabled:!0,code:null===(n=l.data)||void 0===n?void 0:n.content,language:null!==(t=l.data)&&void 0!==t&&t.content.startsWith("<rule")?rn.S.xml:rn.S.java,onEditorDidMount:function(e,n){e.layout(),e.focus(),n.editor.getModels()[0].updateOptions({tabSize:5}),s.current=e,d.current=n},height:"600px"},u),c)})},on=t(38853),cn=t(13171),un=t(95677),ln=function(e){var n=e.application,t=(0,de.z)({queryKey:["packages-incidents"],queryFn:function(){var e=(0,ue.Z)((0,ce.Z)().mark((function e(){return(0,ce.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,se().get("/packages-incidents");case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},void 0,window["packages-incidents"]),o=(0,r.useMemo)((function(){var e,r=null===(e=t.data)||void 0===e?void 0:e.find((function(e){return e.applicationId===n.id})),a=(null===r||void 0===r?void 0:r.packages)||{},o=Object.entries(a).map((function(e){var n=(0,c.Z)(e,2);return{packageName:n[0],packageCount:n[1]}})).sort((function(e,n){return n.packageCount-e.packageCount})),i=o.slice(0,9),u=o.length>9?[{packageName:"Other",packageCount:o.slice(9-o.length).reduce((function(e,n){return e+n.packageCount}),0)}]:[];return i.concat(u)}),[n,t.data]);return(0,a.jsxs)(Ze.Z,{isFullHeight:!0,children:[(0,a.jsx)(un.l,{children:"Java Incidents by Package"}),(0,a.jsx)(Ce.e,{style:{height:"400px"},children:(0,a.jsx)(b.b,{children:(0,a.jsx)(on.HS,{constrainToVisibleArea:!0,data:o.map((function(e){return{x:e.packageName,y:e.packageCount}})),labels:function(e){var n=e.datum;return"".concat(n.x,": ").concat(n.y)},legendData:o.map((function(e){return{name:"".concat(e.packageName," (").concat(e.packageCount,")")}})),legendOrientation:"vertical",legendPosition:"right",padding:{bottom:10,left:10,right:140,top:10},subTitle:"Incidents",title:o.reduce((function(e,n){return e+n.packageCount}),0).toString(),themeColor:cn.nz.multiOrdered,width:400,height:400,innerRadius:100})})})]})},sn=t(60514),dn=t(15871),fn=(t(94133),function(e){var n=Object.assign({},e);return(0,a.jsx)(sn.D,(0,i.Z)({className:"markdown-body",remarkPlugins:[dn.Z],linkTarget:"_blank"},n))}),gn=t(35958),pn=t(43648),hn=t(68951),vn=t(54263),mn=t(86993),xn=t(36621),yn=t(96134),jn=t(17823),Zn=t(20711),Cn=t(49284),bn=t(27706),wn=function(e){var n,t=e.file,u=e.props,l=e.lineToFocus,s=e.hintToFocus,d=(0,he.q)(),f=(0,ge.l)(t.id),g=(0,r.useRef)(),p=(0,r.useRef)();(0,r.useEffect)((function(){return function(){var e,n;null===(e=p.current)||void 0===e||e.editor.getModels().forEach((function(e){return e.dispose()})),null===(n=g.current)||void 0===n||n.dispose()}}),[g,p]);var h=(0,r.useState)([]),v=(0,c.Z)(h,2),m=v[0],x=v[1];(0,r.useEffect)((function(){return function(){m.forEach((function(e){return e&&e.dispose()}))}}),[m]);var y=r.useRef(),j=(0,r.useState)(!!s),Z=(0,c.Z)(j,2),C=Z[0],b=Z[1],w=(0,r.useState)(s),k=(0,c.Z)(w,2),T=k[0],P=k[1],S=function(e,n){e.layout(),e.focus(),n.editor.getModels()[0].updateOptions({tabSize:5});var r=(null===t||void 0===t?void 0:t.hints)||[],a=[];!function(e,n,t){var r=t.map((function(e){var t,r=null===(t=d.data)||void 0===t?void 0:t.find((function(n){return n.id===e.ruleId}));return{startLineNumber:e.line,startColumn:0,endLineNumber:e.line,endColumn:1e3,message:e.content,source:null===r||void 0===r?void 0:r.id,severity:n.MarkerSeverity.Warning}})),a=n.editor.getModels()[0];n.editor.setModelMarkers(a,"*",r)}(0,n,(null===t||void 0===t?void 0:t.hints)||[]);var o=function(e,n,t){var r=t.map((function(t){return{range:new n.Range(t.line,1,t.line,1),id:"view-hint",command:{title:"View Hint",id:e.addCommand(0,(function(){P(t),b(!0)}),"")}}}));return n.languages.registerCodeLensProvider("*",{provideCodeLenses:function(e,n){return{lenses:r,dispose:function(){}}},resolveCodeLens:function(e,n,t){return n}})}(e,n,r);a.push(o),function(e,n,t){var r=t.map((function(e){return{range:new n.Range(e.line,1,e.line,1),options:{isWholeLine:!0,glyphMarginClassName:"windupGlyphMargin"}}}));e.deltaDecorations([],r)}(e,n,r);var i=function(e,n,t){return t.map((function(e){return n.languages.registerHoverProvider("*",{provideHover:function(t,r){if(r.lineNumber===e.line)return{range:new n.Range(e.line,1,e.line,1),contents:[{value:Fe(e.content,e.links)}]}}})}))}(0,n,r);a=a.concat(i),x(a);s&&s.line&&e.revealLineNearTop(s.line+5),l&&e.revealLineNearTop(l+5),g.current=e,p.current=n};return(0,a.jsx)(gn.dy,{isExpanded:C,onExpand:function(){y.current&&y.current.focus()},isInline:!0,children:(0,a.jsx)(pn.s,{panelContent:(0,a.jsx)(hn.S,{isResizable:!0,defaultSize:"800px",minSize:"350px",children:(0,a.jsx)(vn.h,{children:(0,a.jsxs)(Ze.Z,{isLarge:!0,children:[(0,a.jsxs)(mn.O,{children:[(0,a.jsx)(xn.T,{hasNoOffset:!0,children:(0,a.jsx)(yn.x,{children:(0,a.jsx)(jn.c,{onClick:function(){return b(!1)}})})}),(0,a.jsx)(un.l,{children:(0,a.jsxs)(Zn.D,{children:[(0,a.jsx)(Cn.x,{component:"h1",children:null===T||void 0===T?void 0:T.title}),(0,a.jsxs)(Cn.x,{component:"small",children:["Line: ",null===T||void 0===T?void 0:T.line]})]})})]}),(0,a.jsx)(Ce.e,{children:T&&(0,a.jsx)(fn,{children:Fe(T.content,T.links)})})]})})}),children:(0,a.jsx)(bn.s,{children:(0,a.jsx)(o,{when:f.isLoading,then:(0,a.jsx)("span",{children:"Loading..."}),children:(0,a.jsx)(rn.p,(0,i.Z)({isDarkTheme:!0,isLineNumbersVisible:!0,isReadOnly:!0,isMinimapVisible:!0,isLanguageLabelVisible:!0,isDownloadEnabled:!0,code:null===(n=f.data)||void 0===n?void 0:n.content,language:Object.values(rn.S).find((function(e){return e===t.sourceType.toLowerCase()})),options:{glyphMargin:!0,"semanticHighlighting.enabled":!0,renderValidationDecorations:"on"},onEditorDidMount:function(e,n){S(e,n)},height:"".concat(window.innerHeight-300,"px")},u))})})})})}},56954:function(e,n,t){t.d(n,{QM:function(){return b},dd:function(){return d},x6:function(){return p},HL:function(){return y},Xv:function(){return E},Sm:function(){return Z}});var r=t(29439),a=t(1413),o=t(47313),i=t(19720),c=(0,i.createAction)("useModal/action/openModalWithData")(),u=(0,i.createAction)("useModal/action/startClose")(),l={action:void 0,data:void 0,isOpen:!1},s=function(e,n){switch(n.type){case(0,i.getType)(c):return(0,a.Z)((0,a.Z)({},e),{},{action:n.payload.action,data:n.payload.data,isOpen:!0});case(0,i.getType)(u):return(0,a.Z)((0,a.Z)({},e),{},{action:void 0,data:void 0,isOpen:!1});default:return e}},d=function(){var e=(0,o.useReducer)(s,(0,a.Z)({},l)),n=(0,r.Z)(e,2),t=n[0],i=n[1],d=(0,o.useCallback)((function(e,n){i(c({action:e,data:n}))}),[]),f=(0,o.useCallback)((function(){i(u())}),[]);return{action:t.action,data:t.data,isOpen:t.isOpen,open:d,close:f,isAction:function(e){return t.action===e}}},f=t(93433),g=t(39880),p=function(e){var n=e.items,t=e.currentSortBy,r=e.currentPage,a=e.filterItem,i=e.compareToByColumn;return(0,o.useMemo)((function(){var e,o=(0,f.Z)(n||[]).filter(a),c=!1;return e=(0,f.Z)(o).sort((function(e,n){var r=i(e,n,null===t||void 0===t?void 0:t.index);return 0!==r&&(c=!0),r})),c&&(null===t||void 0===t?void 0:t.direction)===g.B.desc&&(e=e.reverse()),{pageItems:e.slice((r.page-1)*r.perPage,r.page*r.perPage),filteredItems:o}}),[n,r,t,i,a])},h=(0,i.createAction)("useTableControls/pagination/change")(),v=(0,i.createAction)("useTableControls/sortBy/change")(),m={changed:!1,currentPage:{page:1,perPage:10},sortBy:void 0},x=function(e,n){switch(n.type){case(0,i.getType)(h):return(0,a.Z)((0,a.Z)({},e),{},{changed:!0,currentPage:{page:n.payload.page,perPage:n.payload.perPage}});case(0,i.getType)(v):return(0,a.Z)((0,a.Z)({},e),{},{changed:!0,sortBy:{index:n.payload.index,direction:n.payload.direction}});default:return e}},y=function(e){var n=(0,o.useReducer)(x,(0,a.Z)((0,a.Z)({},m),{},{currentPage:e&&e.page?(0,a.Z)({},e.page):(0,a.Z)({},m.currentPage),sortBy:e&&e.sortBy?(0,a.Z)({},e.sortBy):m.sortBy})),t=(0,r.Z)(n,2),i=t[0],c=t[1],u=(0,o.useCallback)((function(e){var n;c(h({page:e.page>=1?e.page:1,perPage:null!==(n=e.perPage)&&void 0!==n?n:m.currentPage.perPage}))}),[]),l=(0,o.useCallback)((function(e,n,t,r){c(v({index:n,direction:t}))}),[]);return{page:i.currentPage,sortBy:i.sortBy,changePage:u,changeSortBy:l}},j=function(e){return"string"===typeof e?e:e.key},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,n=(0,o.useState)(e),t=(0,r.Z)(n,2),a=t[0],i=t[1],c=Array.from(a.values()).reduce((function(e,n){return[].concat((0,f.Z)(e),(0,f.Z)(n))}),[]).length>0,u=function(e,n){i((function(t){var r=t.get(e)||[];return new Map(t).set(e,[].concat((0,f.Z)(r),[n]))}))},l=function(e,n){i((function(t){return new Map(t).set(e,n)}))},s=function(e,n){i((function(t){var r;r=Array.isArray(n)?(0,f.Z)(n):[n];var a=(t.get(e)||[]).filter((function(e){var n=j(e);return!r.some((function(e){var t=j(e);return n===t}))}));return new Map(t).set(e,a)}))},d=function(){i((function(e){var n=new Map(e);return Array.from(n.keys()).forEach((function(e){n.set(e,[])})),n}))};return{filters:a,isPresent:c,addFilter:u,setFilter:l,removeFilter:s,clearAllFilters:d}},C={isSelected:!1},b=function(e){e.rows,e.columns;var n=(0,o.useState)(new Map),t=(0,r.Z)(n,2),i=t[0],c=t[1],u=function(e,n){var t,r=null===(t=i.get(e))||void 0===t?void 0:t.get(n);return!!r&&r.isSelected};return{isCellSelected:u,isSomeCellSelected:function(e,n){return n.some((function(n){var t;return null===(t=i.get(e))||void 0===t?void 0:t.get(n)}))},toggleCellSelected:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!u(e,n),r=i.get(e)||new Map,o=r.get(n)||(0,a.Z)({},C),l=(new Map).set(n,(0,a.Z)((0,a.Z)({},o),{},{isSelected:t})),s=new Map(i).set(e,l);c(s)}}},w=["View","Connect","Store","Sustain","Execute"],k=t(13056),T=t(16265),P=t(74165),S=t(15861),I=t(4942),M=t(31881),F=t.n(M),L=t(44888),E=function(e){var n=e.applicationId,t=e.hideEmptyCategoryOptions,i=(0,T.p)(),c=function(){var e=(0,o.useCallback)((function(e){return e.map((function(e){var n=Object.entries(e.technologyGroups).map((function(e){var n=(0,r.Z)(e,2),t=n[0],o=n[1],i=Object.entries(o).map((function(e){var n=(0,r.Z)(e,2),t=n[0],o=n[1],i={total:Object.entries(o).reduce((function(e,n){var t=(0,r.Z)(n,2);return t[0],e+t[1]}),0),tags:(0,a.Z)({},o)};return(0,I.Z)({},t,i)})).reduce((function(e,n){return(0,a.Z)((0,a.Z)({},e),n)}),{});return(0,I.Z)({},t,i)})).reduce((function(e,n){return(0,a.Z)((0,a.Z)({},e),n)}),{});return{applicationId:e.applicationId,technologyGroups:n}}))}),[]);return(0,L.z)({queryKey:["technologies"],queryFn:function(){var e=(0,S.Z)((0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,F().get("/technologies");case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),select:e},void 0,window.technologies)}(),u=(0,o.useMemo)((function(){var e=function(e){return e.reduce((function(e,n){var t,r=null===(t=c.data)||void 0===t?void 0:t.find((function(e){return e.applicationId===n.id}));if(r){var a={application:n,technologyGroups:r.technologyGroups};return[].concat((0,f.Z)(e),[a])}return e}),[])};if(n===k.s)return e((i.data||[]).filter((function(e){return!e.isVirtual})));var t,r=null===(t=i.data)||void 0===t?void 0:t.find((function(e){return e.id===n}));return e(r?[r]:[])}),[i.data,c.data,n]),l=(0,o.useCallback)((function(e){var n=function(){return e.node};return{value:e.key,toString:n,compareTo:function(t){return"string"===typeof t?n().toLowerCase().includes(t.toLowerCase()):e.key===t.value}}}),[]),s=(0,o.useMemo)((function(){return u.length>0?w.reduce((function(e,n){var a=u[0].technologyGroups[n],o=Object.keys(a).length,i=Object.entries(a).map((function(e){var n=(0,r.Z)(e,2);n[0];return n[1].total})).reduce((function(e,n){return e+n}),0);return i>0||!t?[].concat((0,f.Z)(e),[l({key:n,node:t?n:"".concat(n," (").concat(o,")")})]):e}),[]):w.map((function(e){return l({key:e,node:e})}))}),[t,u,l]);return{applications:u,categoryOptions:s,allApplications:i,allTechnologies:c}}}}]);