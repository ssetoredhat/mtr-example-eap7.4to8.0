"use strict";(self.webpackChunkwindup_ui=self.webpackChunkwindup_ui||[]).push([[37],{46037:function(e,n,t){t.r(n),t.d(n,{default:function(){return A}});var a=t(4942),i=t(93433),o=t(29439),r=t(47313),l=t(97890),c=t(96093),s=t(47346),p=t(48892),u=t(89213),d=t(6198),h=t(20711),g=t(49284),f=t(14762),x=t(48974),m=t(13772),j=t(19726),v=t(98235),y=t(29964),b=t(75071),w=t(53426),C=t(32837),Z=t(98362),T=t(79023),S=t(54904),k=t(93760),P=t(39275),E=t(60171),L=t(69366),O=t(7872),D=t(13056),I=t(66274),B=t(53566),F=t(56954),G=t(46417),M=function(e){return Object.entries(e).sort((function(e,n){var t=(0,o.Z)(e,1)[0],a=(0,o.Z)(n,1)[0];return t.localeCompare(a)}))},N="DataKey",A=function(){var e=(0,l.bS)("/technologies"),n=(0,l.bS)("/technologies/applications"),t=(0,l.bS)("/technologies/applications/:applicationId"),A=e?void 0:n?D.s:null===t||void 0===t?void 0:t.params.applicationId,K=(0,l.s0)(),z=(0,r.useState)(""),H=(0,o.Z)(z,2),U=H[0],V=H[1],X=(0,r.useState)("View"),_=(0,o.Z)(X,2),Q=_[0],R=_[1],q=(0,F.Xv)({applicationId:A}),J=q.applications,W=q.categoryOptions,Y=q.allApplications,$=q.allTechnologies,ee=(0,r.useMemo)((function(){return J.length>0?Object.entries(J[0].technologyGroups).map((function(e){var n=(0,o.Z)(e,2),t=(n[0],n[1]);return Object.keys(t).map((function(e){return e}))})).flatMap((function(e){return e})):[]}),[J]),ne=(0,r.useMemo)((function(){var e=[{title:"Application",transforms:[S.p],cellTransforms:[]}];if(J.length>0){var n=J[0].technologyGroups[Q],t=M(n).map((function(e){var n=(0,o.Z)(e,2),t=n[0];n[1];return{title:t,transforms:[S.p],cellTransforms:[k.z],data:t}}));e=[].concat((0,i.Z)(e),(0,i.Z)(t))}return e}),[Q,J]),te=(0,r.useCallback)((function(e){return ne[e].data}),[ne]),ae=(0,F.QM)({rows:J.map((function(e){return e.application.id})),columns:ee}),ie=ae.isCellSelected,oe=ae.isSomeCellSelected,re=ae.toggleCellSelected,le=(0,F.HL)(),ce=le.page,se=le.sortBy,pe=le.changePage,ue=le.changeSortBy,de=(0,F.x6)({items:J,currentPage:ce,currentSortBy:se,compareToByColumn:function(e,n,t){if(0===t)return e.application.name.localeCompare(n.application.name);if(void 0!==t){var a=(0,o.Z)(M(e.technologyGroups[Q])[t-1],2)[1],i=(0,o.Z)(M(n.technologyGroups[Q])[t-1],2)[1];return a.total-i.total}return 0},filterItem:function(e){var n=!0;return U&&U.trim().length>0&&(n=-1!==e.application.name.toLowerCase().indexOf(U.toLowerCase())),n}}),he=de.pageItems,ge=de.filteredItems,fe=function(e){var n=[];return e.forEach((function(e){var t,r=M(e.technologyGroups[Q]),l=Object.keys(r).length,c=r.map((function(n){var t=(0,o.Z)(n,2),a=t[0];return{title:t[1].total,props:{isOpen:ie(e.application.id,a)}}}));n.push((t={},(0,a.Z)(t,N,e),(0,a.Z)(t,"isOpen",oe(e.application.id,ee)),(0,a.Z)(t,"cells",[{title:e.application.name}].concat((0,i.Z)(c))),t));var s=n.length-1;r.forEach((function(e,t){var a=(0,o.Z)(e,2),i=(a[0],a[1]),r=i.total,c=i.tags;n.push({parent:s,compoundParent:1+t,cells:[{title:(0,G.jsx)("div",{children:(0,G.jsx)(P.X,{"aria-label":"Simple table",variant:"compact",isStriped:!0,children:(0,G.jsxs)(E.p,{children:[Object.entries(c).map((function(e,n){var t=(0,o.Z)(e,2),a=t[0],i=t[1];return(0,G.jsxs)(L.Tr,{children:[(0,G.jsx)(O.Td,{width:30,dataLabel:"key-".concat(n),children:a}),(0,G.jsx)(O.Td,{dataLabel:"val-".concat(n),children:i})]},n)})),(0,G.jsxs)(L.Tr,{children:[(0,G.jsx)(O.Td,{width:30,dataLabel:"Total",children:(0,G.jsx)("strong",{children:"Total"})}),(0,G.jsx)(O.Td,{width:70,children:(0,G.jsx)("strong",{children:r})})]})]})})}),props:{colSpan:l+1,className:"pf-m-no-padding"}}]})}))})),n}(he);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(c.NP,{padding:{default:"noPadding"},children:(0,G.jsx)(s.o,{children:(0,G.jsxs)(p.c,{children:[(0,G.jsx)(u.E,{children:"Application:"}),(0,G.jsx)(u.E,{children:(0,G.jsx)(I.wD,{contextKeyFromURL:A,onChange:function(e){K("/technologies/applications/"+e.key)}})})]})})}),(0,G.jsx)(d.i,{}),(0,G.jsx)(c.NP,{variant:c.Dk.light,children:(0,G.jsxs)(h.D,{children:[(0,G.jsx)(g.x,{component:"h1",children:"Technologies"}),(0,G.jsx)(g.x,{component:"small",children:"This report is a statistic of technologies occurrences in the input applications. It shows how the technologies are distributed and is mostly useful when analysing many applications."})]})}),(0,G.jsx)(c.NP,{variant:c.Dk.default,children:(0,G.jsx)(G.Fragment,{children:void 0===A?(0,G.jsx)(f.b,{children:(0,G.jsxs)(x.u,{children:[(0,G.jsx)(m.k,{icon:Z.ZP}),(0,G.jsx)(j.D,{headingLevel:"h4",size:"lg",children:"Select an application"}),(0,G.jsx)(v.B,{children:"Select an application whose data you want to get access to."})]})}):(0,G.jsx)(B.un,{hasTopPagination:!0,hasBottomPagination:!0,totalCount:ge.length,onExpand:function(e,n,t,a,i,o){var r=function(e){return e.DataKey}(i),l=te(t);re(r.application.id,l)},sortBy:se||{index:void 0,defaultDirection:"asc"},onSort:ue,currentPage:ce,onPageChange:pe,rows:fe,cells:ne,isLoading:Y.isFetching||$.isFetching,loadingVariant:"skeleton",fetchError:Y.isError||$.isError,filtersApplied:U.trim().length>0,toolbarToggle:(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(u.E,{variant:"search-filter",children:(0,G.jsx)(y.M,{value:U,onChange:V,onClear:function(){return V("")}})}),(0,G.jsx)(b.k,{variant:"filter-group",children:(0,G.jsx)(w.p,{categoryName:"Category",children:(0,G.jsx)(B.GU,{width:250,maxHeight:300,toggleIcon:(0,G.jsx)(T.ZP,{}),variant:C.TM.single,"aria-label":"category","aria-labelledby":"category",placeholderText:"Category",value:W.find((function(e){return e.value===Q})),options:W,onChange:function(e){R(e.value)}})})})]})})})})]})}}}]);