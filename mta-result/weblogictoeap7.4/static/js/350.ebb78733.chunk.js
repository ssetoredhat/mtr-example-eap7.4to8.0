"use strict";(self.webpackChunkwindup_ui=self.webpackChunkwindup_ui||[]).push([[350],{42350:function(e,n,t){t.r(n),t.d(n,{default:function(){return A}});var i=t(47313),r=t(97890),a=t(96093),s=t(60902),o=t(54890),l=t(16903),c=t(25119),u=t(93443),d=t(7164),f=t(4942),h=t(29439),p=t(82685),m=t(98699),v=t(67526),g=t(53566),x=t(56954),j=t(46417),y=[{title:"Name",transforms:[],cellTransforms:[]},{title:"Entity",transforms:[],cellTransforms:[]},{title:"Table",transforms:[],cellTransforms:[]}],T=function(e){var n=e.applicationId,t=(0,i.useState)(""),r=(0,h.Z)(t,1)[0],a=(0,v.W)(),s=(0,d.O)(),o=(0,i.useMemo)((function(){var e,t;return(null===(e=s.data)||void 0===e||null===(t=e.find((function(e){return e.applicationId===n})))||void 0===t?void 0:t.entities)||[]}),[s.data,n]),l=(0,x.dd)(),c=(0,i.useMemo)((function(){var e;return null===(e=a.data)||void 0===e?void 0:e.find((function(e){return e.id===l.data}))}),[a.data,l.data]),u=(0,x.HL)(),T=u.page,I=u.sortBy,P=u.changePage,C=u.changeSortBy,B=(0,x.x6)({items:o,currentPage:T,currentSortBy:I,compareToByColumn:function(){return 0},filterItem:function(){return!0}}),N=B.pageItems,Z=B.filteredItems,S=function(e){var n=[];return e.forEach((function(e){var t;n.push((t={},(0,f.Z)(t,"DataKey",e),(0,f.Z)(t,"cells",[{title:e.entityName},{title:e.classFileId?(0,j.jsx)(p.zx,{variant:p.Wu.link,isInline:!0,onClick:function(){return l.open("showFile",e.classFileId)},children:e.className}):e.className},{title:e.tableName}]),t))})),n}(N);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(g.un,{hasTopPagination:!0,hasBottomPagination:!0,totalCount:Z.length,sortBy:I||{index:void 0,defaultDirection:"asc"},onSort:C,currentPage:T,onPageChange:P,rows:S,cells:y,actions:[],isLoading:s.isFetching,loadingVariant:"skeleton",fetchError:s.isError,filtersApplied:r.trim().length>0}),(0,j.jsx)(m.u,{title:"File ".concat(null===c||void 0===c?void 0:c.prettyPath),isOpen:l.isOpen&&"showFile"===l.action,onClose:l.close,variant:"default",position:"top",disableFocusTrap:!0,actions:[(0,j.jsx)(p.zx,{variant:"primary",onClick:l.close,children:"Close"},"close")],children:c&&(0,j.jsx)(g.Mm,{file:c})})]})},I=[{title:"Name",transforms:[],cellTransforms:[]},{title:"Query",transforms:[],cellTransforms:[]}],P=function(e){var n=e.applicationId,t=(0,i.useState)(""),r=(0,h.Z)(t,1)[0],a=(0,d.O)(),s=(0,i.useMemo)((function(){var e,t;return(null===(e=a.data)||void 0===e||null===(t=e.find((function(e){return e.applicationId===n})))||void 0===t?void 0:t.namesQueries)||[]}),[a.data,n]),o=(0,x.HL)(),l=o.page,c=o.sortBy,u=o.changePage,p=o.changeSortBy,m=(0,x.x6)({items:s,currentPage:l,currentSortBy:c,compareToByColumn:function(){return 0},filterItem:function(){return!0}}),v=m.pageItems,y=m.filteredItems,T=function(e){var n=[];return e.forEach((function(e){var t;n.push((t={},(0,f.Z)(t,"DataKey",e),(0,f.Z)(t,"cells",[{title:e.queryName},{title:e.query}]),t))})),n}(v);return(0,j.jsx)(g.un,{hasTopPagination:!0,hasBottomPagination:!0,totalCount:y.length,sortBy:c||{index:void 0,defaultDirection:"asc"},onSort:p,currentPage:l,onPageChange:u,rows:T,cells:I,actions:[],isLoading:a.isFetching,loadingVariant:"skeleton",fetchError:a.isError,filtersApplied:r.trim().length>0})},C=t(42747),B=t(74871),N=t(41094),Z=t(39275),S=t(30605),w=t(42912),E=t(69366),O=t(88991),k=t(60171),F=t(7872),K="DataKey",b=[{title:"Name",transforms:[],cellTransforms:[]},{title:"JPA Configuration",transforms:[],cellTransforms:[]},{title:"JPA Version",transforms:[],cellTransforms:[]}],D=function(e){var n=e.applicationId,t=(0,i.useState)(""),r=(0,h.Z)(t,1)[0],a=(0,d.O)(),s=(0,i.useMemo)((function(){var e,t;return(null===(e=a.data)||void 0===e||null===(t=e.find((function(e){return e.applicationId===n})))||void 0===t?void 0:t.jpaConfigurations.flatMap((function(e){return e.persistentUnits.map((function(n){return{path:e.path,version:e.version,name:n.name,properties:n.properties,datasources:n.datasources}}))})))||[]}),[a.data,n]),o=(0,C.Uq)({items:s,isEqual:function(e,n){return e.name===n.name}}),l=o.isItemSelected,c=o.toggleItemSelected,u=(0,x.HL)(),p=u.page,m=u.sortBy,v=u.changePage,y=u.changeSortBy,T=(0,x.x6)({items:s,currentPage:p,currentSortBy:m,compareToByColumn:function(){return 0},filterItem:function(){return!0}}),I=T.pageItems,P=T.filteredItems,D=function(e){var n=[];return e.forEach((function(e){var t,i=l(e);n.push((t={},(0,f.Z)(t,K,e),(0,f.Z)(t,"isOpen",i),(0,f.Z)(t,"cells",[{title:e.name},{title:e.path},{title:e.version}]),t)),i&&n.push({parent:n.length-1,fullWidth:!0,cells:[{title:(0,j.jsx)("div",{className:"pf-u-m-md",children:(0,j.jsxs)(B.K,{hasGutter:!0,children:[(0,j.jsx)(N.v,{children:(0,j.jsxs)(Z.X,{variant:"compact",children:[(0,j.jsx)(S.Y,{children:"Persistence unit properties"}),(0,j.jsx)(w.h,{children:(0,j.jsxs)(E.Tr,{children:[(0,j.jsx)(O.Th,{children:"Key"}),(0,j.jsx)(O.Th,{children:"Value"})]})}),(0,j.jsx)(k.p,{children:Object.entries(e.properties).map((function(e){var n=(0,h.Z)(e,2),t=n[0],i=n[1];return(0,j.jsxs)(E.Tr,{children:[(0,j.jsx)(F.Td,{children:t}),(0,j.jsx)(F.Td,{children:i})]},t)}))})]})}),(0,j.jsx)(N.v,{children:(0,j.jsxs)(Z.X,{variant:"compact",children:[(0,j.jsx)(S.Y,{children:"Datasources"}),(0,j.jsx)(w.h,{children:(0,j.jsxs)(E.Tr,{children:[(0,j.jsx)(O.Th,{children:"JNDI locations"}),(0,j.jsx)(O.Th,{children:"Type"}),(0,j.jsx)(O.Th,{children:"JTA"})]})}),(0,j.jsx)(k.p,{children:e.datasources.map((function(e,n){return(0,j.jsxs)(E.Tr,{children:[(0,j.jsx)(F.Td,{children:e.jndiLocation}),(0,j.jsx)(F.Td,{children:e.databaseTypeName}),(0,j.jsx)(F.Td,{children:e.isXA})]},n)}))})]})})]})})}]})})),n}(I);return(0,j.jsx)(g.un,{hasTopPagination:!0,hasBottomPagination:!0,totalCount:P.length,onCollapse:function(e,n,t,i){var r=function(e){return e.DataKey}(i);c(r)},sortBy:m||{index:void 0,defaultDirection:"asc"},onSort:y,currentPage:p,onPageChange:v,rows:D,cells:b,actions:[],isLoading:a.isFetching,loadingVariant:"skeleton",fetchError:a.isError,filtersApplied:r.trim().length>0})},A=function(){var e=(0,r.bx)(),n=(0,d.O)(),t=(0,i.useMemo)((function(){var t;return null===(t=n.data)||void 0===t?void 0:t.find((function(n){return n.applicationId===(null===e||void 0===e?void 0:e.id)}))}),[n.data,e]);return(0,j.jsx)(a.NP,{children:(0,j.jsx)(s.Z,{children:(0,j.jsx)(o.e,{children:(0,j.jsxs)(l.m,{defaultActiveKey:0,children:[(0,j.jsx)(c.O,{eventKey:0,title:(0,j.jsxs)(u.T,{children:["Persistence units (",null===t||void 0===t?void 0:t.jpaConfigurations.flatMap((function(e){return e.persistentUnits})).length,")"]}),children:e&&(0,j.jsx)(D,{applicationId:null===e||void 0===e?void 0:e.id})}),(0,j.jsx)(c.O,{eventKey:1,title:(0,j.jsxs)(u.T,{children:["Entities (",null===t||void 0===t?void 0:t.entities.length,")"]}),children:e&&(0,j.jsx)(T,{applicationId:null===e||void 0===e?void 0:e.id})}),(0,j.jsx)(c.O,{eventKey:2,title:(0,j.jsxs)(u.T,{children:["Named queries (",null===t||void 0===t?void 0:t.namesQueries.length,")"]}),children:e&&(0,j.jsx)(P,{applicationId:null===e||void 0===e?void 0:e.id})})]})})})})}},7164:function(e,n,t){t.d(n,{O:function(){return l}});var i=t(74165),r=t(15861),a=t(31881),s=t.n(a),o=t(44888),l=function(){return(0,o.z)({queryKey:["jpa"],queryFn:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("/jpa");case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},undefined,window.jpa)}},30605:function(e,n,t){t.d(n,{Y:function(){return a}});var i=t(66797),r=t(47313),a=function(e){var n=e.children,t=e.className,a=(0,i._T)(e,["children","className"]);return r.createElement("caption",Object.assign({className:t},a),n)};a.displayName="Caption"}}]);