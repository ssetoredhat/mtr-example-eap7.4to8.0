{"id":"1286152","content":"package com.redhat.coolstore.service;\r\n\r\nimport com.redhat.coolstore.model.Order;\r\nimport jakarta.ejb.Stateless;\r\nimport jakarta.persistence.EntityManager;\r\nimport jakarta.persistence.PersistenceContext;\r\nimport jakarta.persistence.criteria.CriteriaBuilder;\r\nimport jakarta.persistence.criteria.CriteriaQuery;\r\nimport jakarta.persistence.criteria.Root;\r\nimport java.util.List;\r\n\r\n@Stateless\r\npublic class OrderService {\r\n   @PersistenceContext\r\n   private EntityManager em;\r\n\r\n   public void save(Order order) {\r\n      this.em.persist(order);\r\n   }\r\n\r\n   public List<Order> getOrders() {\r\n      CriteriaBuilder cb = this.em.getCriteriaBuilder();\r\n      CriteriaQuery<Order> criteria = cb.createQuery(Order.class);\r\n      Root<Order> member = criteria.from(Order.class);\r\n      criteria.select(member);\r\n      return this.em.createQuery(criteria).getResultList();\r\n   }\r\n\r\n   public Order getOrderById(long id) {\r\n      return (Order)this.em.find(Order.class, id);\r\n   }\r\n}\r\n"}