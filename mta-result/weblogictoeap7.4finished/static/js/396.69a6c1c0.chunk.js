"use strict";(self.webpackChunkwindup_ui=self.webpackChunkwindup_ui||[]).push([[396],{45396:function(e,t,n){n.r(t),n.d(t,{default:function(){return pe}});var a=n(4942),s=n(93433),r=n(29439),i=n(47313),l=n(29466),o=n(84440),c=n(3460),u=n(74871),d=n(41094),p=n(91970),m=n(90148),h=n(15671),g=n(43144),f=n(60136),x=n(27277),b=n(66797),v=n(96086),C=n(36926),j=n(99033),Z=n(82685),L=n(6646),y=n(37962),T=n(93616),E=function(e){(0,f.Z)(n,e);var t=(0,x.Z)(n);function n(e){var a;return(0,h.Z)(this,n),(a=t.call(this,e)).headingRef=i.createRef(),a.toggleCollapse=function(){a.setState((function(e){return{isOpen:!e.isOpen,isTooltipVisible:Boolean(a.headingRef.current&&a.headingRef.current.offsetWidth<a.headingRef.current.scrollWidth)}}))},a.state={isOpen:a.props.defaultIsOpen,isTooltipVisible:!1},a}return(0,g.Z)(n,[{key:"componentDidMount",value:function(){this.setState({isTooltipVisible:Boolean(this.headingRef.current&&this.headingRef.current.offsetWidth<this.headingRef.current.scrollWidth)})}},{key:"renderLabel",value:function(e){var t=this.props,n=t.categoryName,a=t.tooltipPosition;return this.state.isTooltipVisible?i.createElement(o.u,{position:a,content:n},i.createElement("span",{tabIndex:0,ref:this.headingRef,className:(0,j.i)(v.Z.labelGroupLabel)},i.createElement("span",{"aria-hidden":"true",id:e},n))):i.createElement("span",{ref:this.headingRef,className:(0,j.i)(v.Z.labelGroupLabel),"aria-hidden":"true",id:e},n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.categoryName,a=t.children,s=t.className,r=t.isClosable,l=t.isCompact,o=t.closeBtnAriaLabel,u=t["aria-label"],d=t.onClick,p=t.numLabels,m=t.expandedText,h=t.collapsedText,g=(t.defaultIsOpen,t.tooltipPosition,t.isVertical),f=t.isEditable,x=t.hasEditableTextArea,E=t.editableTextAreaProps,P=t.addLabelControl,N=(0,b._T)(t,["categoryName","children","className","isClosable","isCompact","closeBtnAriaLabel","aria-label","onClick","numLabels","expandedText","collapsedText","defaultIsOpen","tooltipPosition","isVertical","isEditable","hasEditableTextArea","editableTextAreaProps","addLabelControl"]),R=this.state.isOpen,M=i.Children.count(a),O=(0,y.tJ)(h,{remaining:i.Children.count(a)-p});return 0===M&&void 0===P?null:i.createElement(T.w,null,(function(t){return function(t){var h=R?i.Children.toArray(a):i.Children.toArray(a).slice(0,p),b=i.createElement(i.Fragment,null,n&&e.renderLabel(t),i.createElement("ul",Object.assign({className:(0,j.i)(v.Z.labelGroupList)},n&&{"aria-labelledby":t},!n&&{"aria-label":u},{role:"list"},N),h.map((function(e,t){return i.createElement("li",{className:(0,j.i)(v.Z.labelGroupListItem),key:t},e)})),M>p&&i.createElement("li",{className:(0,j.i)(v.Z.labelGroupListItem)},i.createElement(c._,{isOverflowLabel:!0,onClick:e.toggleCollapse,className:(0,j.i)(l&&C.Z.modifiers.compact)},R?m:O)),P&&i.createElement("li",{className:(0,j.i)(v.Z.labelGroupListItem)},P),f&&x&&i.createElement("li",{className:(0,j.i)(v.Z.labelGroupListItem,v.Z.modifiers.textarea)},i.createElement("textarea",Object.assign({className:(0,j.i)(v.Z.labelGroupTextarea),rows:1,tabIndex:0},E))))),y=i.createElement("div",{className:(0,j.i)(v.Z.labelGroupClose)},i.createElement(Z.zx,{variant:"plain","aria-label":o,onClick:d,id:"remove_group_".concat(t),"aria-labelledby":"remove_group_".concat(t," ").concat(t)},i.createElement(L.ZP,{"aria-hidden":"true"})));return i.createElement("div",{className:(0,j.i)(v.Z.labelGroup,s,n&&v.Z.modifiers.category,g&&v.Z.modifiers.vertical,f&&v.Z.modifiers.editable)},i.createElement("div",{className:(0,j.i)(v.Z.labelGroupMain)},b),r&&y)}(e.props.id||t)}))}}]),n}(i.Component);E.displayName="LabelGroup",E.defaultProps={expandedText:"Show Less",collapsedText:"${remaining} more",categoryName:"",defaultIsOpen:!1,numLabels:3,isClosable:!1,isCompact:!1,onClick:function(e){},closeBtnAriaLabel:"Close label group",tooltipPosition:"top","aria-label":"Label group category",isVertical:!1,isEditable:!1,hasEditableTextArea:!1};var P,N=n(76934),R=n(90555),M=n(22420),O=n(80752),w=n(96093),S=n(20711),k=n(49284),I=n(89213),A=n(29964),G=n(75071),F=n(53426),z=n(32837),_=n(98699),V=n(17589),W=(0,V.IU)({name:"ExpandIcon",height:512,width:448,svgPath:"M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z",yOffset:0,xOffset:0}),B=n(79023),U=n(70987),D=(0,V.IU)({name:"TagIcon",height:512,width:512,svgPath:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z",yOffset:0,xOffset:0}),H=(0,V.IU)({name:"TaskIcon",height:1024,width:768,svgPath:"M640,432 C640,440.8 632.8,448 624,448 L143.985,447.572 C135.185,447.572 127.985,440.373 127.985,431.572 L127.985,399.572 C127.985,390.772 135.185,383.572 143.985,383.572 L624,384 C632.8,384 640,391.2 640,400 L640,432 Z M574.77,623.998 C574.77,632.799 567.57,639.998 558.77,639.998 L207.935,639.999 C199.135,639.999 191.935,632.799 191.935,623.999 L191.935,591.999 C191.935,583.199 199.135,575.999 207.935,575.999 L558.77,575.998 C567.57,575.998 574.77,583.198 574.77,591.998 L574.77,623.998 Z M510.833,815.998 C510.833,824.799 503.633,831.998 494.833,831.998 L271.719,831.999 C262.919,831.999 255.719,824.799 255.719,815.999 L255.719,783.999 C255.719,775.199 262.919,767.999 271.719,767.999 L494.833,767.998 C503.633,767.998 510.833,775.198 510.833,783.998 L510.833,815.998 Z M384,80 C410.6,80 432,101.4 432,128 C432,154.6 410.6,176 384,176 C357.4,176 336,154.6 336,128 C336,101.4 357.4,80 384,80 L384,80 Z M672,128 L512,128 C512,57.4 454.6,0 384,0 C313.4,0 256,57.4 256,128 L96,128 C43,128 0,171 0,224 L0,928 C0,981 43,1024 96,1024 L672,1024 C725,1024 768,981 768,928 L768,224 C768,171 725,128 672,128 L672,128 Z",yOffset:0,xOffset:0}),J=n(71602),K=n(54904),q=n(93760),$=n(79143),Q=n(16265),X=n(74165),Y=n(15861),ee=n(31881),te=n.n(ee),ne=n(44888),ae=n(53566),se=n(56954),re=n(1413),ie=function(e,t){var n=function(e){return e.map((function(e){if(function(e){return e.startsWith("regex(")&&e.endsWith(")")}(e)){var t=function(e){return e.substring(e.indexOf("regex(")+6,e.lastIndexOf(")"))}(e);return new RegExp(t)}return e.endsWith("*")?new RegExp("^"+e):e.startsWith("*")?new RegExp(e.substr(1)+"$"):e}))}(e);return t.filter((function(e){return function(e,t){return e.some((function(e){return e instanceof RegExp?e.test(t):t===e}))}(n,e)}))},le=n(46417),oe="DataKey";!function(e){e.tags="tags",e.incidents="incidents"}(P||(P={}));var ce=Object.values(P),ue=[{title:"Name",transforms:[(0,J.d)(30),K.p]},{title:"Runtime labels",transforms:[(0,J.d)(40)]},{title:"Tags",transforms:[(0,J.d)(10)],cellTransforms:[q.z],data:P.tags},{title:"Incidents",transforms:[(0,J.d)(10)],cellTransforms:[q.z],data:P.incidents},{title:"Story points",transforms:[(0,J.d)(10)]}],de=function(e,t,n){return 0===n?e.name.localeCompare(t.name):0},pe=function(){var e,t,n,h,g,f,x=(0,se.dd)(),b=(0,i.useState)(""),v=(0,r.Z)(b,2),C=v[0],j=v[1],L=(0,se.Sm)(),y=L.filters,T=L.setFilter,V=L.removeFilter,J=L.clearAllFilters,K=function(){var e=(0,i.useCallback)((function(e){return e.sort((function(e,t){return t.name.localeCompare(e.name)}))}),[]);return(0,ne.z)({queryKey:["labels"],queryFn:function(){var e=(0,Y.Z)((0,X.Z)().mark((function e(){return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te().get("/labels");case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),select:e},void 0,window.labels)}(),q=(0,Q.p)(),ee=(0,i.useMemo)((function(){var e=(q.data||[]).flatMap((function(e){return e.tags}));return Array.from(new Set(e)).sort((function(e,t){return e.localeCompare(t)}))}),[q.data]),pe=(0,i.useMemo)((function(){var e=new Map;return q.data&&K.data?(q.data.forEach((function(t){var n=K.data.map((function(e){return function(e,t){var n=ie(e.supported,t),a=ie(e.neutral,t),s=ie(e.unsuitable,t),r={targetRuntime:(0,re.Z)({},e),assessmentResult:"Unsuitable",assessedSupportedTags:n,assessedNeutralTags:a,assessedUnsuitableTags:s};return s.length>0?(0,re.Z)((0,re.Z)({},r),{},{assessmentResult:"Unsuitable"}):a.length+n.length===t.length?(0,re.Z)((0,re.Z)({},r),{},{assessmentResult:"Supported"}):(0,re.Z)((0,re.Z)({},r),{},{assessmentResult:"Partially supported"})}(e,t.tags)}));e.set(t.id,n)})),e):e}),[K.data,q.data]),me=(0,se.HL)(),he=me.page,ge=me.sortBy,fe=me.changePage,xe=me.changeSortBy,be=(0,se.x6)({items:q.data||[],currentPage:he,currentSortBy:ge,compareToByColumn:de,filterItem:function(e){var t=!0;C&&C.trim().length>0&&(t=-1!==e.name.toLowerCase().indexOf(C.toLowerCase()));var n=!0,a=y.get("tag")||[];return a.length>0&&(n=a.some((function(t){return e.tags.some((function(e){return t===e}))}))),t&&n}}),ve=be.pageItems,Ce=be.filteredItems,je=(0,se.QM)({rows:ve.map((function(e){return e.id})),columns:ce}),Ze=je.isCellSelected,Le=je.isSomeCellSelected,ye=je.toggleCellSelected,Te=function(e){var t=[];return e.forEach((function(e){var n;t.push((n={},(0,a.Z)(n,oe,e),(0,a.Z)(n,"isOpen",Le(e.id,ce)),(0,a.Z)(n,"cells",[{title:(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(l.rU,{to:"/applications/".concat(e.id),children:e.name}),e.isVirtual&&(0,le.jsxs)(le.Fragment,{children:[" ",(0,le.jsx)(o.u,{content:(0,le.jsx)("div",{children:"This groups all issues found in libraries included in multiple applications."}),children:(0,le.jsx)(c._,{isCompact:!0,color:"blue",icon:(0,le.jsx)(U.ZP,{}),children:"Shared libraries"})})]})]})},{title:(0,le.jsx)(le.Fragment,{children:(0,le.jsx)(u.K,{children:(0,s.Z)(pe.get(e.id)||[]).sort((function(e,t){return e.targetRuntime.name.localeCompare(t.targetRuntime.name)})).map((function(t){return(0,le.jsx)(d.v,{children:(0,le.jsxs)(p.P,{children:[(0,le.jsx)(m.J,{children:(0,le.jsx)(E,{categoryName:t.assessmentResult,children:(0,le.jsx)(c._,{isCompact:!0,color:"Supported"===t.assessmentResult?"green":"Unsuitable"===t.assessmentResult?"red":"grey",children:t.targetRuntime.name})})}),(0,le.jsx)(m.J,{children:(0,le.jsx)(Z.zx,{variant:"plain","aria-label":"Details",isSmall:!0,onClick:function(){return x.open("showLabel",{application:e,assessment:t})},children:(0,le.jsx)(W,{})})})]})},t.targetRuntime.name)}))})})},{title:(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(D,{},"tags")," ",e.tags.length]}),props:{isOpen:Ze(e.id,P.tags)}},{title:(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(H,{},"incidents")," ",Object.values(e.incidents).reduce((function(e,t){return e+t}),0)]}),props:{isOpen:Ze(e.id,P.incidents)}},{title:e.storyPoints}]),n));var r=t.length-1;t.push({parent:r,compoundParent:2,cells:[{title:(0,le.jsx)("div",{className:"pf-u-m-lg",children:(0,le.jsx)(p.P,{hasGutter:!0,isWrappable:!0,children:(0,s.Z)(e.tags).sort((function(e,t){return e.localeCompare(t)})).map((function(e,t){return(0,le.jsx)(m.J,{children:(0,le.jsx)(c._,{isCompact:!0,children:e})},t)}))})}),props:{colSpan:6,className:"pf-m-no-padding"}}]}),t.push({parent:r,compoundParent:3,cells:[{title:(0,le.jsx)("div",{className:"pf-u-m-lg",children:(0,le.jsx)(N.o,{isHorizontal:!0,isCompact:!0,horizontalTermWidthModifier:{default:"12ch",md:"20ch"},children:Object.keys(e.incidents).sort((0,$.BM)((function(e){return e}))).map((function(t){return(0,le.jsxs)(R.g,{children:[(0,le.jsx)(M.M,{children:(0,$.S6)(t)}),(0,le.jsx)(O.b,{children:e.incidents[t]})]},t)}))})}),props:{colSpan:6,className:"pf-m-no-padding"}}]})})),t}(ve);return(0,i.useEffect)((function(){fe({page:1,perPage:he.perPage})}),[y,fe,he.perPage]),(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(w.NP,{variant:w.Dk.light,children:(0,le.jsxs)(S.D,{children:[(0,le.jsx)(k.x,{component:"h1",children:"Applications"}),(0,le.jsx)(k.x,{component:"small",children:"This report lists all analyzed applications. Select an individual application to show more details."})]})}),(0,le.jsxs)(w.NP,{variant:w.Dk.default,children:[(0,le.jsx)(ae.un,{className:"application-list-table",hasTopPagination:!0,hasBottomPagination:!0,totalCount:Ce.length,onExpand:function(e,t,n,a,s,r){var i=function(e){return e.DataKey}(s),l=function(e){return ue[e].data}(n);ye(i.id,l)},sortBy:ge||{index:void 0,defaultDirection:"asc"},onSort:xe,currentPage:he,onPageChange:fe,rows:Te,cells:ue,isLoading:q.isFetching,loadingVariant:"skeleton",fetchError:q.isError,toolbarClearAllFilters:J,filtersApplied:C.trim().length>0,toolbarToggle:(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(I.E,{variant:"search-filter",children:(0,le.jsx)(A.M,{value:C,onChange:j,onClear:function(){j("")}})}),(0,le.jsx)(G.k,{variant:"filter-group",children:(0,le.jsx)(F.p,{chips:y.get("tag"),deleteChip:function(e,t){return V("tag",t)},deleteChipGroup:function(){return T("tag",[])},categoryName:{key:"tag",name:"Tag"},children:(0,le.jsx)(ae.GU,{width:250,maxHeight:300,toggleIcon:(0,le.jsx)(B.ZP,{}),variant:z.TM.checkbox,"aria-label":"tag","aria-labelledby":"tag",placeholderText:"Tag",value:y.get("tag"),options:ee,onChange:function(e){var t,n=e;t=(y.get("tag")||[]).some((function(e){return e===n}))?(y.get("tag")||[]).filter((function(e){return e!==n})).map((function(e){return e})):[].concat((0,s.Z)(y.get("tag")||[]),[n]),T("tag",t)},hasInlineFilter:!0,onClear:function(){return T("tag",[])}})})})]})}),(0,le.jsx)(_.u,{title:"Runtime label details",isOpen:x.isOpen,onClose:x.close,variant:"medium",children:(0,le.jsxs)(N.o,{children:[(0,le.jsxs)(R.g,{children:[(0,le.jsx)(M.M,{children:"Application"}),(0,le.jsx)(O.b,{children:null===(e=x.data)||void 0===e?void 0:e.application.name})]}),(0,le.jsxs)(R.g,{children:[(0,le.jsx)(M.M,{children:"Runtime target"}),(0,le.jsx)(O.b,{children:null===(t=x.data)||void 0===t?void 0:t.assessment.targetRuntime.name})]}),(0,le.jsxs)(R.g,{children:[(0,le.jsx)(M.M,{children:"Assessment"}),(0,le.jsx)(O.b,{children:null===(n=x.data)||void 0===n?void 0:n.assessment.assessmentResult})]}),(0,le.jsxs)(R.g,{children:[(0,le.jsx)(M.M,{children:"Unsuitable technologies"}),(0,le.jsx)(O.b,{children:(0,le.jsx)(p.P,{hasGutter:!0,isWrappable:!0,children:(0,s.Z)((null===(h=x.data)||void 0===h?void 0:h.assessment.assessedUnsuitableTags)||[]).sort((function(e,t){return e.localeCompare(t)})).map((function(e,t){return(0,le.jsx)(m.J,{children:(0,le.jsx)(c._,{isCompact:!0,color:"red",children:e})},t)}))})})]}),(0,le.jsxs)(R.g,{children:[(0,le.jsx)(M.M,{children:"Supported technologies"}),(0,le.jsx)(O.b,{children:(0,le.jsx)(p.P,{hasGutter:!0,isWrappable:!0,children:(0,s.Z)((null===(g=x.data)||void 0===g?void 0:g.assessment.assessedSupportedTags)||[]).sort((function(e,t){return e.localeCompare(t)})).map((function(e,t){return(0,le.jsx)(m.J,{children:(0,le.jsx)(c._,{isCompact:!0,color:"green",children:e})},t)}))})})]}),(0,le.jsxs)(R.g,{children:[(0,le.jsx)(M.M,{children:"Neutral technologies"}),(0,le.jsx)(O.b,{children:(0,le.jsx)(p.P,{hasGutter:!0,isWrappable:!0,children:(0,s.Z)((null===(f=x.data)||void 0===f?void 0:f.assessment.assessedNeutralTags)||[]).sort((function(e,t){return e.localeCompare(t)})).map((function(e,t){return(0,le.jsx)(m.J,{children:(0,le.jsx)(c._,{isCompact:!0,children:e})},t)}))})})]})]})})]})]})}}}]);