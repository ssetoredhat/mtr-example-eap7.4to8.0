"use strict";(self.webpackChunkwindup_ui=self.webpackChunkwindup_ui||[]).push([[957],{81957:function(e,t,n){n.r(t),n.d(t,{default:function(){return P}});var i=n(4942),r=n(29439),a=n(47313),l=n(97890),o=n(42747),s=n(82685),u=n(96093),c=n(98699),f=n(67526),d=n(80500),p=n(53566),h=n(56954),m=n(46417),v="DataKey",g=[{title:"Artifact",transforms:[],cellTransforms:[]},{title:"File",transforms:[],cellTransforms:[]},{title:"Path",transforms:[],cellTransforms:[]}],P=function(){var e=(0,l.bx)(),t=(0,a.useState)(""),n=(0,r.Z)(t,1)[0],P=(0,f.W)(),x=(0,d.M)(),y=(0,a.useMemo)((function(){var t,n;return(null===(t=x.data)||void 0===t||null===(n=t.find((function(t){return t.applicationId===(null===e||void 0===e?void 0:e.id)})))||void 0===n?void 0:n.subProjects.flatMap((function(e){return e.unparsableFiles.map((function(t){return{artifactName:e.path,filePath:t.filePath,fileName:t.fileName,fileId:t.fileId,description:t.parseError}}))})))||[]}),[x.data,e]),w=(0,h.dd)(),I=(0,a.useMemo)((function(){var e;return null===(e=P.data)||void 0===e?void 0:e.find((function(e){return e.id===w.data}))}),[P.data,w.data]),b=(0,o.Uq)({items:y,isEqual:function(e,t){return e.filePath===t.filePath}}),C=b.isItemSelected,k=b.toggleItemSelected,j=(0,h.HL)(),F=j.page,N=j.sortBy,Z=j.changePage,B=j.changeSortBy,M=(0,h.x6)({items:y,currentPage:F,currentSortBy:N,compareToByColumn:function(){return 0},filterItem:function(){return!0}}),S=M.pageItems,T=M.filteredItems,E=function(e){var t=[];return e.forEach((function(e){var n,r=C(e);t.push((n={},(0,i.Z)(n,v,e),(0,i.Z)(n,"isOpen",r),(0,i.Z)(n,"cells",[{title:e.artifactName},{title:e.fileId?(0,m.jsx)(s.zx,{variant:s.Wu.link,isInline:!0,onClick:function(){return w.open("showFile",e.fileId)},children:e.fileName}):e.fileName},{title:e.filePath}]),n)),r&&t.push({parent:t.length-1,fullWidth:!0,cells:[{title:(0,m.jsx)("div",{className:"pf-u-m-md",children:e.description})}]})})),t}(S);return(0,m.jsxs)(u.NP,{children:[(0,m.jsx)(p.un,{hasTopPagination:!0,hasBottomPagination:!0,totalCount:T.length,onCollapse:function(e,t,n,i){var r=function(e){return e.DataKey}(i);k(r)},sortBy:N||{index:void 0,defaultDirection:"asc"},onSort:B,currentPage:F,onPageChange:Z,rows:E,cells:g,actions:[],isLoading:x.isFetching,loadingVariant:"skeleton",fetchError:x.isError,filtersApplied:n.trim().length>0}),(0,m.jsx)(c.u,{title:"File ".concat(null===I||void 0===I?void 0:I.prettyPath),isOpen:w.isOpen&&"showFile"===w.action,onClose:w.close,variant:"default",position:"top",disableFocusTrap:!0,actions:[(0,m.jsx)(s.zx,{variant:"primary",onClick:w.close,children:"Close"},"close")],children:I&&(0,m.jsx)(p.Mm,{file:I})})]})}},80500:function(e,t,n){n.d(t,{M:function(){return s}});var i=n(74165),r=n(15861),a=n(31881),l=n.n(a),o=n(44888),s=function(){return(0,o.z)({queryKey:["unparsable-files"],queryFn:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get("/unparsable-files");case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},undefined,window["unparsable-files"])}}}]);