"use strict";(self.webpackChunkwindup_ui=self.webpackChunkwindup_ui||[]).push([[59],{47059:function(e,t,r){r.r(t),r.d(t,{default:function(){return E}});var n=r(93433),a=r(4942),l=r(29439),i=r(47313),s=r(42747),o=r(76934),u=r(90555),c=r(22420),d=r(80752),h=r(96093),f=r(20711),p=r(49284),g=r(89213),m=r(29964),v=r(75071),x=r(53426),y=r(32837),C=r(98699),j=r(79306),k=r(53566),b=r(56954),S=r(46417),w=function(e){if("string"===typeof e){var t=function(){return e};return{value:e,toString:t,compareTo:function(r){return"string"===typeof r?t().toLowerCase().includes(r.toLocaleLowerCase()):e===r.value}}}var r=function(){return e.node};return{value:e.key,toString:r,compareTo:function(t){return"string"===typeof t?r().toLowerCase().includes(t.toLowerCase()):e.key===t.value}}},T=function(e){return{key:e.value,node:e.toString()}},F=[{key:"true",node:"Condition met"},{key:"false",node:"Condition not met"}],I=[{key:"true",node:"Success"},{key:"false",node:"Failed"}],M="DataKey",R=[{title:"Phase",transforms:[]},{title:"Ruleset",transforms:[]},{title:"ID",transforms:[]},{title:"Status",transforms:[]},{title:"Result",transforms:[],cellTransforms:[]}],P=function(e){return e.DataKey},E=function(){var e,t,r,E,L,G=(0,j.q)(),Z=(0,i.useState)(""),A=(0,l.Z)(Z,2),D=A[0],N=A[1],B=(0,b.Sm)(),H=B.filters,U=B.setFilter,O=B.removeFilter,V=B.clearAllFilters,q=(0,i.useMemo)((function(){var e,t=new Set;return null===(e=G.data)||void 0===e||e.forEach((function(e){return t.add(e.phase)})),Array.from(t).sort((function(e,t){return e.localeCompare(t)}))}),[G.data]),K=(0,i.useMemo)((function(){var e,t=new Set;return null===(e=G.data)||void 0===e||e.forEach((function(e){return t.add(e.ruleSetId)})),Array.from(t).sort((function(e,t){return e.localeCompare(t)}))}),[G.data]),W=(0,b.dd)(),_=(0,s.Uq)({items:G.data||[],isEqual:function(e,t){return"".concat(e.phase,"-").concat(e.id)==="".concat(t.phase,"-").concat(t.id)}}),z=_.isItemSelected,J=_.toggleItemSelected,Q=(0,b.HL)(),X=Q.page,Y=Q.sortBy,$=Q.changePage,ee=Q.changeSortBy,te=(0,b.x6)({items:G.data||[],currentPage:X,currentSortBy:Y,compareToByColumn:function(){return 0},filterItem:function(e){var t=!0;D&&D.trim().length>0&&(t=-1!==e.id.toLowerCase().indexOf(D.toLowerCase()));var r=!0,n=H.get("phase")||[];n.length>0&&(r=n.some((function(t){return e.phase===t.key})));var a=!0,l=H.get("ruleset")||[];l.length>0&&(a=l.some((function(t){return e.ruleSetId===t.key})));var i=!0,s=H.get("status")||[];s.length>0&&(i=s.some((function(t){return e.executed===("true"===t.key)})));var o=!0,u=H.get("result")||[];return u.length>0&&(o=u.some((function(t){return e.failed===("false"===t.key)}))),t&&r&&a&&i&&o}}),re=te.pageItems,ne=te.filteredItems,ae=function(e){var t=[];return e.forEach((function(e){var r,n=z(e);t.push((r={},(0,a.Z)(r,M,e),(0,a.Z)(r,"isOpen",n),(0,a.Z)(r,"cells",[{title:e.phase},{title:e.ruleSetId},{title:e.id},{title:e.executed?"Condition met":"Condition not met"},{title:e.failed?"Failed":"Success"}]),r)),n&&t.push({parent:t.length-1,fullWidth:!0,cells:[{title:(0,S.jsx)("div",{className:"pf-u-m-md",children:(0,S.jsxs)(o.o,{isCompact:!0,isHorizontal:!0,children:[(0,S.jsxs)(u.g,{children:[(0,S.jsx)(c.M,{children:"Vertices created"}),(0,S.jsx)(d.b,{children:e.verticesAdded})]}),(0,S.jsxs)(u.g,{children:[(0,S.jsx)(c.M,{children:"Vertices removed"}),(0,S.jsx)(d.b,{children:e.verticesRemoved})]}),(0,S.jsxs)(u.g,{children:[(0,S.jsx)(c.M,{children:"Edges created"}),(0,S.jsx)(d.b,{children:e.edgesAdded})]}),(0,S.jsxs)(u.g,{children:[(0,S.jsx)(c.M,{children:"Edges removed"}),(0,S.jsx)(d.b,{children:e.edgesRemoved})]}),(0,S.jsxs)(u.g,{children:[(0,S.jsx)(c.M,{children:"Failure cause"}),(0,S.jsx)(d.b,{children:e.failureMessage})]})]})})}]})})),t}(re),le=[{title:"View rule",onClick:function(e,t,r,n){var a=P(r);W.open("showRule",a)}}];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(h.NP,{variant:h.Dk.light,children:(0,S.jsxs)(f.D,{children:[(0,S.jsx)(p.x,{component:"h1",children:"Rule providers execution overview"}),(0,S.jsx)(p.x,{component:"small",children:"This report lists 'rule providers', or sets of Windup rules. They may originate from a '.windup.xml', a '.rhamt.xml', or a '.mta.xml' file or a Java class implementing 'RuleProvider'."})]})}),(0,S.jsx)(h.NP,{variant:h.Dk.default,children:(0,S.jsx)(k.un,{hasTopPagination:!0,hasBottomPagination:!0,totalCount:ne.length,onCollapse:function(e,t,r,n){var a=P(n);J(a)},sortBy:Y||{index:void 0,defaultDirection:"asc"},onSort:ee,currentPage:X,onPageChange:$,rows:ae,cells:R,actions:le,isLoading:G.isFetching,loadingVariant:"skeleton",fetchError:G.isError,toolbarClearAllFilters:V,filtersApplied:D.trim().length>0,toolbarToggle:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(g.E,{variant:"search-filter",children:(0,S.jsx)(m.M,{value:D,onChange:N,onClear:function(){return N("")}})}),(0,S.jsxs)(v.k,{variant:"filter-group",children:[(0,S.jsx)(x.p,{chips:H.get("phase"),deleteChip:function(e,t){return O("phase",t)},deleteChipGroup:function(){return U("phase",[])},categoryName:{key:"phase",name:"Phase"},children:(0,S.jsx)(k.GU,{maxHeight:300,variant:y.TM.checkbox,"aria-label":"phase","aria-labelledby":"phase",placeholderText:"Phase",value:null===(e=H.get("phase"))||void 0===e?void 0:e.map(w),options:q.map(w),onChange:function(e){var t,r=e;t=(H.get("phase")||[]).some((function(e){return e.key===r.value}))?(H.get("phase")||[]).filter((function(e){return e.key!==r.value})):[].concat((0,n.Z)(H.get("phase")||[]),[T(r)]),U("phase",t)},hasInlineFilter:!0,onClear:function(){return U("phase",[])}})}),(0,S.jsx)(x.p,{chips:H.get("ruleset"),deleteChip:function(e,t){return O("ruleset",t)},deleteChipGroup:function(){return U("ruleset",[])},categoryName:{key:"ruleset",name:"Ruleset"},children:(0,S.jsx)(k.GU,{maxHeight:300,variant:y.TM.checkbox,"aria-label":"ruleset","aria-labelledby":"ruleset",placeholderText:"Ruleset",value:null===(t=H.get("ruleset"))||void 0===t?void 0:t.map(w),options:K.map(w),onChange:function(e){var t,r=e;t=(H.get("ruleset")||[]).some((function(e){return e.key===r.value}))?(H.get("ruleset")||[]).filter((function(e){return e.key!==r.value})):[].concat((0,n.Z)(H.get("ruleset")||[]),[T(r)]),U("ruleset",t)},hasInlineFilter:!0,onClear:function(){return U("ruleset",[])}})})]}),(0,S.jsxs)(v.k,{variant:"filter-group",children:[(0,S.jsx)(x.p,{chips:H.get("status"),deleteChip:function(e,t){return O("status",t)},deleteChipGroup:function(){return U("status",[])},categoryName:{key:"status",name:"Status"},children:(0,S.jsx)(k.GU,{maxHeight:300,variant:y.TM.checkbox,"aria-label":"status","aria-labelledby":"status",placeholderText:"Status",value:null===(r=H.get("status"))||void 0===r?void 0:r.map(w),options:F.map(w),onChange:function(e){var t,r=e;t=(H.get("status")||[]).some((function(e){return e.key===r.value}))?(H.get("status")||[]).filter((function(e){return e.key!==r.value})):[].concat((0,n.Z)(H.get("status")||[]),[T(r)]),U("status",t)},hasInlineFilter:!0,onClear:function(){return U("status",[])}})}),(0,S.jsx)(x.p,{chips:H.get("result"),deleteChip:function(e,t){return O("result",t)},deleteChipGroup:function(){return U("result",[])},categoryName:{key:"result",name:"Result"},children:(0,S.jsx)(k.GU,{maxHeight:300,variant:y.TM.checkbox,"aria-label":"result","aria-labelledby":"result",placeholderText:"Result",value:null===(E=H.get("result"))||void 0===E?void 0:E.map(w),options:I.map(w),onChange:function(e){var t,r=e;t=(H.get("result")||[]).some((function(e){return e.key===r.value}))?(H.get("result")||[]).filter((function(e){return e.key!==r.value})):[].concat((0,n.Z)(H.get("result")||[]),[T(r)]),U("result",t)},hasInlineFilter:!0,onClear:function(){return U("result",[])}})})]})]})})}),(0,S.jsx)(C.u,{title:"Rule: ".concat(null===(L=W.data)||void 0===L?void 0:L.id),isOpen:W.isOpen&&"showRule"===W.action,onClose:W.close,variant:"large",children:W.data&&(0,S.jsx)(k.sd,{ruleId:W.data.id})})]})}}}]);